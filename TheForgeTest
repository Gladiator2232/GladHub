local Players=game:GetService("Players");local RunService=game:GetService("RunService");local UserInputService=game:GetService("UserInputService");local TweenService=game:GetService("TweenService");local ReplicatedStorage=game:GetService("ReplicatedStorage");local Workspace=game:GetService("Workspace");local CoreGui=game:GetService("CoreGui");local Lighting=game:GetService("Lighting");local HttpService=game:GetService("HttpService");local VIM=game:GetService("VirtualInputManager");local player=Players.LocalPlayer;local playerGui=player:WaitForChild("PlayerGui");local IsMobile=UserInputService.TouchEnabled and  not UserInputService.KeyboardEnabled ;local ScreenSize=Workspace.CurrentCamera.ViewportSize;local VERSION="11.0.1";local SAVE_FOLDER="GladHub/TheForge";local SAVE_FILE="GladHub/TheForge/Config.json";local DEFAULT_MOVE_SPEED=120;local TP_BYPASS_DISTANCE=100;local CANNON_HEIGHT=3;local MINE_TICK=0.035;local ATTACK_TICK=0.028;local SCAN_INTERVAL=0.15;local GOBLIN_CENTER=Vector3.new(154.358,38.536, -111.641);local GOBLIN_RADIUS=85;local GOBLIN_MAX_Y=55;local Icons={Logo="rbxassetid://125708856317444",Auto="rbxassetid://6034509993",Manager="rbxassetid://6031302931",ESP="rbxassetid://6031225819",Settings="rbxassetid://6031280882",Mine="rbxassetid://6035047391",Kill="rbxassetid://6034684930",Sell="rbxassetid://6034684949",Monster="rbxassetid://6022668888",Status="rbxassetid://6026568198",Potion="rbxassetid://6034287594"};local Theme={Background=Color3.fromRGB(12,10,18),BackgroundSecondary=Color3.fromRGB(20,16,28),BackgroundTertiary=Color3.fromRGB(28,24,38),Accent=Color3.fromRGB(138,103,210),AccentLight=Color3.fromRGB(170,140,235),AccentDark=Color3.fromRGB(90,65,150),TextPrimary=Color3.fromRGB(255,255,255),TextSecondary=Color3.fromRGB(175,175,195),TextMuted=Color3.fromRGB(115,115,135),Border=Color3.fromRGB(45,40,60),BorderLight=Color3.fromRGB(65,60,85),Success=Color3.fromRGB(75,195,115),Warning=Color3.fromRGB(250,175,45),Error=Color3.fromRGB(250,95,95),Info=Color3.fromRGB(95,175,250),Potion=Color3.fromRGB(255,120,200),Glass=0.4,GlassBtn=0.5,GlassPanel=0.3};local RarityColors={Common=Color3.fromRGB(180,180,180),Uncommon=Color3.fromRGB(100,200,100),Rare=Color3.fromRGB(100,150,255),Epic=Color3.fromRGB(180,100,255),Legendary=Color3.fromRGB(255,180,50),Mythical=Color3.fromRGB(255,100,150),Divine=Color3.fromRGB(255,255,100),Relic=Color3.fromRGB(220,50,50),Exotic=Color3.fromRGB(0,255,200)};local Config={MoveSpeed=60,TPBypassEnabled=true,ESpamDuration=1.2,ESpamInterval=0.02,HoverOffset=5,KillDistance=6,FaceTargetEnabled=true,KillNearbyEnabled=true,KillNearbyRange=45,AvoidPlayersEnabled=false,AvoidPlayersDistance=80,AvoidGoblinCave=true,AutoSellEnabled=false,AutoSellInterval=0.7,EspPlayersEnabled=false,EspMonstersEnabled=false,EspOresEnabled=false,EspDistance=600,WalkSpeedEnabled=false,WalkSpeed=16,FullbrightEnabled=false,CameraNoClipEnabled=false,CameraFocusTargetEnabled=false,RocksNoClipEnabled=false,AutoPotionsEnabled=false,PotionDrinkInterval=300,AntiAfkEnabled=false,MineWhitelistEnabled=true};local PotionsDatabase={{Name="LuckPotion1",DisplayName="Luck Potion",Effect="+Luck%",Duration="5 min",MaxStack=3,Color=Color3.fromRGB(255,215,0)},{Name="MinerPotion1",DisplayName="Miner Potion",Effect="+Mining Power",Duration="5 min",MaxStack=3,Color=Color3.fromRGB(139,90,43)},{Name="AttackDamagePotion1",DisplayName="Damage Potion",Effect="+Attack Damage",Duration="5 min",MaxStack=3,Color=Color3.fromRGB(255,50,50)},{Name="MovementSpeedPotion1",DisplayName="Speed Potion",Effect="+Movement Speed",Duration="5 min",MaxStack=3,Color=Color3.fromRGB(50,200,255)},{Name="HealthPotion2",DisplayName="Health Potion II",Effect="Restore HP",Duration="Instant",MaxStack=5,Color=Color3.fromRGB(255,100,150)}};local OreDatabase={{Name="Stone",Rarity="Common",Chance="1/1",Multi=0.2,Price=3,Trait="None",Sources={"Pebble"},Island=1},{Name="Sand Stone",Rarity="Common",Chance="1/2",Multi=0.25,Price=3.75,Trait="None",Sources={"Pebble","Rock"},Island=1},{Name="Copper",Rarity="Common",Chance="1/3",Multi=0.3,Price=4.5,Trait="None",Sources={"Pebble","Rock","Boulder"},Island=1},{Name="Iron",Rarity="Common",Chance="1/5",Multi=0.35,Price=5.25,Trait="None",Sources={"Pebble","Rock","Boulder"},Island=1},{Name="Cardboardite",Rarity="Common",Chance="1/31",Multi=0.7,Price=10.5,Trait="None",Sources={"Rock","Boulder"},Island=1},{Name="Tin",Rarity="Uncommon",Chance="1/7",Multi=0.425,Price=6.38,Trait="None",Sources={"Rock","Boulder"},Island=1},{Name="Silver",Rarity="Uncommon",Chance="1/12",Multi=0.5,Price=7.5,Trait="None",Sources={"Rock","Boulder"},Island=1},{Name="Gold",Rarity="Uncommon",Chance="1/16",Multi=0.65,Price=19.5,Trait="None",Sources={"Boulder"},Island=1},{Name="Bananite",Rarity="Uncommon",Chance="1/30",Multi=0.85,Price=12.75,Trait="None",Sources={"Rock","Boulder"},Island=1},{Name="Mushroomite",Rarity="Rare",Chance="1/22",Multi=0.8,Price=12,Trait="None",Sources={"Rock","Boulder"},Island=1},{Name="Platinum",Rarity="Rare",Chance="1/28",Multi=0.8,Price=12,Trait="None",Sources={"Boulder"},Island=1},{Name="Aite",Rarity="Epic",Chance="1/44",Multi=1.1,Price=16.5,Trait="None",Sources={"Boulder"},Island=1},{Name="Poopite",Rarity="Epic",Chance="1/131",Multi=1.2,Price=18,Trait="Poison Cloud",Sources={"Pebble","Rock","Boulder"},Island=1},{Name="Fichillium",Rarity="Relic",Chance="1/1",Multi=0,Price=0,Trait="Lucky Block Only",Sources={"Lucky Block"},Island=1},{Name="Cobalt",Rarity="Uncommon",Chance="1/37",Multi=1,Price=15,Trait="None",Sources={"Basalt Rock","Basalt Core"},Island=2},{Name="Titanium",Rarity="Uncommon",Chance="1/50",Multi=1.15,Price=17.25,Trait="None",Sources={"Basalt Rock","Basalt Core"},Island=2},{Name="Lapis Lazuli",Rarity="Uncommon",Chance="1/73",Multi=1.3,Price=19.5,Trait="None",Sources={"Basalt Rock","Basalt Core"},Island=2},{Name="Quartz",Rarity="Rare",Chance="1/90",Multi=1.5,Price=22.5,Trait="None",Sources={"Basalt Core","Basalt Vein"},Island=2},{Name="Amethyst",Rarity="Rare",Chance="1/115",Multi=1.55,Price=24.75,Trait="None",Sources={"Basalt Core","Basalt Vein"},Island=2},{Name="Topaz",Rarity="Rare",Chance="1/143",Multi=1.75,Price=26.25,Trait="None",Sources={"Basalt Core","Basalt Vein","Volcanic Rock"},Island=2},{Name="Diamond",Rarity="Rare",Chance="1/192",Multi=2,Price=30,Trait="None",Sources={"Basalt Core","Basalt Vein"},Island=2},{Name="Sapphire",Rarity="Rare",Chance="1/247",Multi=2.25,Price=33.75,Trait="None",Sources={"Basalt Core","Basalt Vein"},Island=2},{Name="Cuprite",Rarity="Epic",Chance="1/303",Multi=2.43,Price=36.45,Trait="None",Sources={"Basalt Core","Basalt Vein","Volcanic Rock"},Island=2},{Name="Obsidian",Rarity="Epic",Chance="1/333",Multi=2.35,Price=35.25,Trait="+30% Vitality",Sources={"Volcanic Rock"},Island=2},{Name="Emerald",Rarity="Epic",Chance="1/363",Multi=2.55,Price=38.25,Trait="None",Sources={"Basalt Core","Basalt Vein"},Island=2},{Name="Ruby",Rarity="Epic",Chance="1/487",Multi=2.95,Price=44.25,Trait="None",Sources={"Basalt Core","Basalt Vein"},Island=2},{Name="Rivalite",Rarity="Epic",Chance="1/569",Multi=3.33,Price=49.95,Trait="+20% Crit",Sources={"Basalt Vein","Volcanic Rock"},Island=2},{Name="Uranium",Rarity="Legendary",Chance="1/777",Multi=3,Price=66,Trait="5% Max HP AOE",Sources={"Basalt Vein"},Island=2},{Name="Mythril",Rarity="Legendary",Chance="1/813",Multi=3.5,Price=52.5,Trait="+15% Vitality",Sources={"Basalt Vein"},Island=2},{Name="Eye Ore",Rarity="Legendary",Chance="1/1333",Multi=4,Price=37.5,Trait="-10% HP, +15% Dmg",Sources={"Basalt Rock","Basalt Core","Basalt Vein","Volcanic Rock"},Island=2},{Name="Fireite",Rarity="Legendary",Chance="1/2187",Multi=4.5,Price=67.5,Trait="30% Burn",Sources={"Volcanic Rock"},Island=2},{Name="Magmaite",Rarity="Legendary",Chance="1/3003",Multi=5,Price=75,Trait="35% AOE Explosion",Sources={"Volcanic Rock"},Island=2},{Name="Lightite",Rarity="Legendary",Chance="1/3333",Multi=4.6,Price=69,Trait="+15% Speed",Sources={"Basalt Vein"},Island=2},{Name="Demonite",Rarity="Mythical",Chance="1/3666",Multi=5.5,Price=82.5,Trait="15% Burn + Backfire",Sources={"Volcanic Rock"},Island=2},{Name="Darkryte",Rarity="Mythical",Chance="1/5555",Multi=6.3,Price=94.5,Trait="15% Shadow Dodge",Sources={"Volcanic Rock"},Island=2},{Name="Green Crystal Ore",Rarity="Epic",Chance="1/255",Multi=3.2,Price=37.55,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Orange Crystal Ore",Rarity="Epic",Chance="1/255",Multi=3,Price=45,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Magenta Crystal Ore",Rarity="Epic",Chance="1/255",Multi=3.1,Price=46.5,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Crimson Crystal Ore",Rarity="Epic",Chance="1/255",Multi=3.3,Price=49.5,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Blue Crystal Ore",Rarity="Epic",Chance="1/255",Multi=3.4,Price=51,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Rainbow Crystal Ore",Rarity="Legendary",Chance="1/5000",Multi=5.25,Price=78.75,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Arcane Crystal Ore",Rarity="Mythical",Chance="1/100000",Multi=7.5,Price=112.5,Trait="None",Sources={"Earth Crystal","Cyan Crystal","Light Crystal","Crimson Crystal"},Island=2},{Name="Boneite",Rarity="Rare",Chance="1/5~8",Multi=1.2,Price=18,Trait="None",Sources={"Skeleton Rogue","Axe Skeleton","Deathaxe Skeleton","Bomber"},Island=2,MonsterDrop=true},{Name="Dark Boneite",Rarity="Rare",Chance="1/6~15",Multi=2.25,Price=33.75,Trait="None",Sources={"Elite Skeleton Rogue","Elite Deathaxe Skeleton","Blight Pyromancer","Reaper"},Island=2,MonsterDrop=true},{Name="Slimite",Rarity="Epic",Chance="1/6",Multi=2.25,Price=37.55,Trait="None",Sources={"Slime","Blazing Slime"},Island=2,MonsterDrop=true},{Name="Tungsten",Rarity="Common",Chance="1/180",Multi=2.6,Price=48.75,Trait="None",Sources={"Icy Pebble","Icy Rock","Icy Boulder"},Island=3},{Name="Sulfur",Rarity="Uncommon",Chance="1/215",Multi=2.75,Price=51.56,Trait="None",Sources={"Icy Pebble","Icy Rock","Icy Boulder"},Island=3},{Name="Pumice",Rarity="Rare",Chance="1/265",Multi=2.9,Price=54.38,Trait="None",Sources={"Icy Pebble","Icy Rock","Icy Boulder"},Island=3},{Name="Graphite",Rarity="Rare",Chance="1/315",Multi=3.1,Price=58.13,Trait="+5% Vitality",Sources={"Icy Pebble","Icy Rock","Icy Boulder"},Island=3},{Name="Scheelite",Rarity="Rare",Chance="1/247",Multi=3.5,Price=69.38,Trait="None",Sources={"Icy Rock","Icy Boulder","Small Ice Crystal"},Island=3},{Name="Aetherit",Rarity="Rare",Chance="1/390",Multi=3.4,Price=63.75,Trait="+5% Speed",Sources={"Icy Pebble","Icy Rock","Icy Boulder","Small Ice Crystal"},Island=3},{Name="Larimar",Rarity="Epic",Chance="1/575",Multi=4.1,Price=76.88,Trait="None",Sources={"Icy Rock","Icy Boulder","Small Ice Crystal"},Island=3},{Name="Neurotite",Rarity="Epic",Chance="1/690",Multi=4.3,Price=80.63,Trait="None",Sources={"Icy Rock","Icy Boulder","Small Ice Crystal"},Island=3},{Name="Frost Fossil",Rarity="Epic",Chance="1/820",Multi=4.5,Price=84.38,Trait="+17.5% Phys Dmg",Sources={"Icy Boulder","Small Ice Crystal","Medium Ice Crystal"},Island=3},{Name="Tide Carve",Rarity="Epic",Chance="1/980",Multi=4.7,Price=88.13,Trait="None",Sources={"Icy Boulder","Small Ice Crystal","Medium Ice Crystal","Floating Crystal"},Island=3},{Name="Velchire",Rarity="Legendary",Chance="1/1450",Multi=5.5,Price=103.13,Trait="+20% Speed",Sources={"Icy Boulder","Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Sanctis",Rarity="Legendary",Chance="1/1830",Multi=6,Price=112.5,Trait="+18% Stamina",Sources={"Icy Boulder","Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Snowite",Rarity="Legendary",Chance="1/4325",Multi=8,Price=150,Trait="+15% Atk Speed",Sources={"Icy Pebble","Icy Rock","Icy Boulder","Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Iceite",Rarity="Mythical",Chance="1/9898",Multi=10.5,Price=196.88,Trait="25% Freeze",Sources={"Icy Rock","Icy Boulder","Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Mosasaursit",Rarity="Exotic",Chance="Guaranteed",Multi=7.2,Price=0,Trait="+65% Vitality",Sources={"Ice Wall"},Island=3},{Name="Mistvein Ore",Rarity="Rare",Chance="1/2625",Multi=7.2,Price=135,Trait="None",Sources={"Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Lgarite Ore",Rarity="Rare",Chance="1/3131",Multi=7.5,Price=140.63,Trait="None",Sources={"Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Voidfractal Ore",Rarity="Rare",Chance="1/3456",Multi=8,Price=150,Trait="None",Sources={"Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Moltenfrost Ore",Rarity="Epic",Chance="1/4004",Multi=8.3,Price=155.63,Trait="None",Sources={"Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Crimsonite Ore",Rarity="Epic",Chance="1/4540",Multi=8.5,Price=159.38,Trait="+20% Phys Dmg",Sources={"Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Malachite Ore",Rarity="Epic",Chance="1/5123",Multi=8.8,Price=165,Trait="10% Poison",Sources={"Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Aqujade Ore",Rarity="Epic",Chance="1/5555",Multi=9,Price=168.75,Trait="None",Sources={"Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Cryptex Ore",Rarity="Epic",Chance="1/6060",Multi=9.3,Price=174.38,Trait="None",Sources={"Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Galestor Ore",Rarity="Epic",Chance="1/6666",Multi=9.5,Price=178.13,Trait="Undocumented",Sources={"Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Voidstar Ore",Rarity="Legendary",Chance="1/8170",Multi=10,Price=187.5,Trait="+33% Crit",Sources={"Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Etherealite Ore",Rarity="Mythical",Chance="1/11111",Multi=11.1,Price=208.13,Trait="+35% Vitality",Sources={"Large Ice Crystal","Floating Crystal"},Island=3},{Name="Suryafal Ore",Rarity="Relic",Chance="1/50050",Multi=17.5,Price=328.13,Trait="None",Sources={"Small Ice Crystal","Medium Ice Crystal","Large Ice Crystal","Floating Crystal"},Island=3},{Name="Heavenite Ore",Rarity="Divine",Chance="1/157775",Multi=25,Price=468.75,Trait="Undocumented",Sources={"Floating Crystal"},Island=3},{Name="Gargantuan Ore",Rarity="Divine",Chance="1/333333",Multi=33.3,Price=624.38,Trait="Pure stat",Sources={"Large Ice Crystal"},Island=3}};local MonsterDatabase={{Name="Zombie",Map="Stonewake's Cross",Island=1,HP="20-52",Drops={},IsBoss=false},{Name="Delver Zombie",Map="Stonewake's Cross",Island=1,HP="40-175",Drops={},IsBoss=false},{Name="Elite Zombie",Map="Stonewake's Cross",Island=1,HP="70-295",Drops={},IsBoss=false},{Name="Brute Zombie",Map="Stonewake's Cross",Island=1,HP="220-370",Drops={},IsBoss=false},{Name="Skeleton Rogue",Map="Forgotten Kingdom",Island=2,HP="75-120",Drops={"Boneite"},IsBoss=false},{Name="Axe Skeleton",Map="Forgotten Kingdom",Island=2,HP="125-215",Drops={"Boneite"},IsBoss=false},{Name="Deathaxe Skeleton",Map="Forgotten Kingdom",Island=2,HP="300-420",Drops={"Boneite"},IsBoss=false},{Name="Bomber",Map="Forgotten Kingdom",Island=2,HP="60-120",Drops={"Boneite"},IsBoss=false},{Name="Elite Skeleton Rogue",Map="Forgotten Kingdom",Island=2,HP="250-295",Drops={"Dark Boneite"},IsBoss=false},{Name="Elite Deathaxe Skeleton",Map="Forgotten Kingdom",Island=2,HP="300-570",Drops={"Dark Boneite"},IsBoss=false},{Name="Blight Pyromancer",Map="Forgotten Kingdom",Island=2,HP="300-500",Drops={"Dark Boneite"},IsBoss=false},{Name="Reaper",Map="Forgotten Kingdom",Island=2,HP="800-1200",Drops={"Dark Boneite"},IsBoss=true},{Name="Slime",Map="Goblin Cave",Island=2,HP="300-435",Drops={"Slimite"},IsBoss=false},{Name="Blazing Slime",Map="Goblin Cave",Island=2,HP="600-870",Drops={"Slimite"},IsBoss=false},{Name="Goblin",Map="Goblin Cave",Island=2,HP="200-300",Drops={},IsBoss=false},{Name="Goblin Warrior",Map="Goblin Cave",Island=2,HP="400-600",Drops={},IsBoss=false},{Name="Goblin King",Map="Goblin Cave",Island=2,HP="2000-3000",Drops={},IsBoss=true},{Name="Crystal Spider",Map="Frostspire Expanse",Island=3,HP="600-720",Drops={},IsBoss=false},{Name="Diamond Spider",Map="Frostspire Expanse",Island=3,HP="1000-1300",Drops={},IsBoss=false},{Name="Prismarine Spider",Map="Frostspire Expanse",Island=3,HP="7500-11500",Drops={},IsBoss=false},{Name="Common Orc",Map="The Peak",Island=3,HP="800-1000",Drops={},IsBoss=false},{Name="Elite Orc",Map="The Peak",Island=3,HP="2000-2200",Drops={},IsBoss=false},{Name="Crystal Golem",Map="The Peak",Island=3,HP="3000-4000",Drops={},IsBoss=false},{Name="Yeti",Map="The Peak",Island=3,HP="10000-14000",Drops={},IsBoss=true},{Name="Ice Golem",Map="The Peak",Island=3,HP="15000-37000",Drops={},IsBoss=true}};local RockPriority={["Large Ice Crystal"]=1,["Floating Crystal"]=2,["Medium Ice Crystal"]=3,["Small Ice Crystal"]=4,["Icy Boulder"]=5,["Icy Rock"]=6,["Icy Pebble"]=7,["Ice Wall"]=8,["Earth Crystal"]=10,["Cyan Crystal"]=10,["Light Crystal"]=10,["Crimson Crystal"]=10,["Volcanic Rock"]=12,["Basalt Vein"]=13,["Basalt Core"]=14,["Basalt Rock"]=15,Boulder=20,Rock=21,Pebble=22,["Lucky Block"]=25};local MonsterSources={"Skeleton Rogue","Axe Skeleton","Deathaxe Skeleton","Bomber","Elite Skeleton Rogue","Elite Deathaxe Skeleton","Blight Pyromancer","Reaper","Slime","Blazing Slime"};local State={isUIVisible=true,isMinimized=false,isAutoMining=false,isAutoKilling=false,isClosing=false,currentCategory="Auto",currentTarget=nil,currentTargetName="",nextTarget=nil,nextTargetName="",miningStatus="Idle",oresMinedCount=0,lastScanTime=0,potionStatus="Idle",lastPotionDrink=0,isPotionBuying=false};local Connections={};local EspObjects={};local SellSelection={};local OreFarmSelection={};local MonsterFarmSelection={};local PotionSelection={};for _,ore in ipairs(OreDatabase) do local FlatIdent_969E6=0;local isProtected;while true do if (FlatIdent_969E6==0) then isProtected=(ore.Rarity=="Divine") or (ore.Rarity=="Relic") or (ore.Rarity=="Mythical") or (ore.Rarity=="Exotic") ;SellSelection[ore.Name]= not isProtected;FlatIdent_969E6=1;end if (1==FlatIdent_969E6) then OreFarmSelection[ore.Name]=ore.Island>=2 ;break;end end end for _,monster in ipairs(MonsterDatabase) do MonsterFarmSelection[monster.Name]= not monster.IsBoss;end for _,potion in ipairs(PotionsDatabase) do PotionSelection[potion.Name]=false;end local function CanSave() return writefile and readfile and isfile and isfolder and makefolder ;end local function EnsureFolders() local FlatIdent_30945=0;while true do if (1==FlatIdent_30945) then return true;end if (FlatIdent_30945==0) then if  not CanSave() then return false;end pcall(function() local FlatIdent_378D0=0;while true do if (FlatIdent_378D0==0) then if  not isfolder("GladHub") then makefolder("GladHub");end if  not isfolder(SAVE_FOLDER) then makefolder(SAVE_FOLDER);end break;end end end);FlatIdent_30945=1;end end end local function DeepCopy(t) local FlatIdent_722D2=0;local copy;while true do if (FlatIdent_722D2==1) then for k,v in pairs(t) do if (type(v)=="table") then copy[k]=DeepCopy(v);elseif ((type(v)~="userdata") and (type(v)~="function")) then copy[k]=v;end end return copy;end if (FlatIdent_722D2==0) then if (type(t)~="table") then return t;end copy={};FlatIdent_722D2=1;end end end local SaveDirty=false;local LastSaveTime=0;local function SaveData() local FlatIdent_2953F=0;local data;local ok;while true do if (FlatIdent_2953F==0) then if  not CanSave() then return false;end EnsureFolders();FlatIdent_2953F=1;end if (FlatIdent_2953F==2) then if ok then local FlatIdent_2BD95=0;while true do if (FlatIdent_2BD95==0) then SaveDirty=false;LastSaveTime=os.clock();break;end end end return ok;end if (FlatIdent_2953F==1) then data={_version=VERSION,_saved=os.date("%Y-%m-%d %H:%M:%S"),Config=DeepCopy(Config),OreFarmSelection=DeepCopy(OreFarmSelection),MonsterFarmSelection=DeepCopy(MonsterFarmSelection),SellSelection=DeepCopy(SellSelection),PotionSelection=DeepCopy(PotionSelection),RockPriority=DeepCopy(RockPriority)};ok=pcall(function() writefile(SAVE_FILE,HttpService:JSONEncode(data));end);FlatIdent_2953F=2;end end end local function LoadData() local FlatIdent_23BE8=0;local ok;local data;while true do if (1==FlatIdent_23BE8) then if (ok and data) then local FlatIdent_31A5A=0;while true do if (FlatIdent_31A5A==2) then if data.PotionSelection then for k,v in pairs(data.PotionSelection) do PotionSelection[k]=v;end end if data.RockPriority then for k,v in pairs(data.RockPriority) do RockPriority[k]=v;end end FlatIdent_31A5A=3;end if (FlatIdent_31A5A==1) then if data.MonsterFarmSelection then for k,v in pairs(data.MonsterFarmSelection) do MonsterFarmSelection[k]=v;end end if data.SellSelection then for k,v in pairs(data.SellSelection) do SellSelection[k]=v;end end FlatIdent_31A5A=2;end if (FlatIdent_31A5A==3) then return data;end if (FlatIdent_31A5A==0) then if data.Config then for k,v in pairs(data.Config) do if (Config[k]~=nil) then Config[k]=v;end end end if data.OreFarmSelection then for k,v in pairs(data.OreFarmSelection) do OreFarmSelection[k]=v;end end FlatIdent_31A5A=1;end end end return nil;end if (FlatIdent_23BE8==0) then if ( not CanSave() or  not isfile(SAVE_FILE)) then return nil;end ok,data=pcall(function() return HttpService:JSONDecode(readfile(SAVE_FILE));end);FlatIdent_23BE8=1;end end end local SliderRefs={};local function RefreshSlidersFromConfig() for key,slider in pairs(SliderRefs) do if (Config[key]~=nil) then slider.SetValueSilent(Config[key]);end end end local function MarkDirty() SaveDirty=true;end local function AutoSaveLoop() local FlatIdent_51A5F=0;while true do if (FlatIdent_51A5F==0) then if  not CanSave() then return;end task.spawn(function() while  not State.isClosing do local FlatIdent_104D4=0;while true do if (FlatIdent_104D4==0) then task.wait(2);if (SaveDirty and ((os.clock() -LastSaveTime)>=1)) then SaveData();end break;end end end end);break;end end end LoadData();local function Track(conn) local FlatIdent_8EDE3=0;while true do if (FlatIdent_8EDE3==0) then table.insert(Connections,conn);return conn;end end end local function Tween(obj,props,dur,style,dir) local FlatIdent_4C7CA=0;local tw;while true do if (0==FlatIdent_4C7CA) then if ( not obj or  not obj.Parent) then return nil;end tw=TweenService:Create(obj,TweenInfo.new(dur or 0.2 ,style or Enum.EasingStyle.Quint ,dir or Enum.EasingDirection.Out ),props);FlatIdent_4C7CA=1;end if (FlatIdent_4C7CA==1) then tw:Play();return tw;end end end local function Create(class,props) local FlatIdent_940A0=0;local inst;while true do if (1==FlatIdent_940A0) then if props.Parent then inst.Parent=props.Parent;end return inst;end if (FlatIdent_940A0==0) then inst=Instance.new(class);for k,v in pairs(props) do if (k~="Parent") then pcall(function() inst[k]=v;end);end end FlatIdent_940A0=1;end end end local function Corner(parent,r) return Create("UICorner",{CornerRadius=UDim.new(0,r or 8 ),Parent=parent});end local function Stroke(parent,c,t) return Create("UIStroke",{Color=c or Theme.Border ,Thickness=t or 1 ,Parent=parent});end local function Padding(parent,t,b,l,r) return Create("UIPadding",{PaddingTop=UDim.new(0,t),PaddingBottom=UDim.new(0,b or t ),PaddingLeft=UDim.new(0,l or t ),PaddingRight=UDim.new(0,r or t ),Parent=parent});end local OriginalLighting={};local StoredWalkSpeed=16;local function GetChar() local FlatIdent_40CF=0;local char;while true do if (FlatIdent_40CF==0) then char=player.Character;if  not char then return nil,nil,nil;end FlatIdent_40CF=1;end if (FlatIdent_40CF==1) then return char,char:FindFirstChild("HumanoidRootPart"),char:FindFirstChildOfClass("Humanoid");end end end local function InGoblinCave(pos) local FlatIdent_79536=0;local dx;local dz;while true do if (FlatIdent_79536==0) then if  not Config.AvoidGoblinCave then return false;end dx,dz=pos.X-GOBLIN_CENTER.X ,pos.Z-GOBLIN_CENTER.Z ;FlatIdent_79536=1;end if (FlatIdent_79536==1) then return (math.sqrt((dx * dx) + (dz * dz) )<GOBLIN_RADIUS) and (pos.Y<GOBLIN_MAX_Y) ;end end end local function GetCannonPart() local ok,result=pcall(function() local FlatIdent_30E86=0;local assets;local gaiser;local cannon;local part;while true do if (FlatIdent_30E86==0) then assets=Workspace:FindFirstChild("Assets");if  not assets then return nil;end FlatIdent_30E86=1;end if (FlatIdent_30E86==3) then part=(cannon:IsA("BasePart") and cannon) or cannon:FindFirstChildWhichIsA("BasePart") ;return part;end if (FlatIdent_30E86==2) then cannon=gaiser:FindFirstChild("CannonPart");if  not cannon then return nil;end FlatIdent_30E86=3;end if (FlatIdent_30E86==1) then gaiser=assets:FindFirstChild("Gaiser");if  not gaiser then return nil;end FlatIdent_30E86=2;end end end);return (ok and result) or nil ;end local function GetCannonCFrame() local FlatIdent_6A83E=0;local part;while true do if (FlatIdent_6A83E==1) then return nil;end if (FlatIdent_6A83E==0) then part=GetCannonPart();if part then return part.CFrame * CFrame.new(0,CANNON_HEIGHT,0) ;end FlatIdent_6A83E=1;end end end local function GetPotionShopPosition() local FlatIdent_215DD=0;local ok;local result;while true do if (0==FlatIdent_215DD) then ok,result=pcall(function() local FlatIdent_12544=0;local shops;local potionShop;local barrier;local part;while true do if (FlatIdent_12544==2) then barrier=potionShop:FindFirstChild("Barrier");if (barrier and barrier:IsA("BasePart")) then return barrier.Position + Vector3.new(0,3,0) ;end FlatIdent_12544=3;end if (FlatIdent_12544==3) then part=potionShop:FindFirstChildWhichIsA("BasePart");return (part and (part.Position + Vector3.new(0,3,0))) or nil ;end if (FlatIdent_12544==0) then shops=Workspace:FindFirstChild("Shops");if  not shops then return nil;end FlatIdent_12544=1;end if (FlatIdent_12544==1) then potionShop=shops:FindFirstChild("Potion Shop");if  not potionShop then return nil;end FlatIdent_12544=2;end end end);return (ok and result) or nil ;end end end local NoclipConn=nil;local FloatBV=nil;local FloatBG=nil;local function EnableNoclip() local FlatIdent_8BF78=0;while true do if (FlatIdent_8BF78==0) then if NoclipConn then return;end NoclipConn=RunService.Stepped:Connect(function() local FlatIdent_817B0=0;local char;while true do if (FlatIdent_817B0==0) then char=player.Character;if  not char then return;end FlatIdent_817B0=1;end if (FlatIdent_817B0==1) then for _,p in ipairs(char:GetDescendants()) do if p:IsA("BasePart") then p.CanCollide=false;end end break;end end end);break;end end end local function DisableNoclip() if NoclipConn then local FlatIdent_9622C=0;while true do if (FlatIdent_9622C==0) then NoclipConn:Disconnect();NoclipConn=nil;break;end end end end local function EnableFloat() local FlatIdent_2D88C=0;local _;local hrp;local oldBV;local oldBG;while true do if (FlatIdent_2D88C==3) then FloatBV.Name="GladFloat";FloatBV.Velocity=Vector3.zero;FloatBV.MaxForce=Vector3.new(1000000000,1000000000,1000000000);FlatIdent_2D88C=4;end if (FlatIdent_2D88C==0) then _,hrp=GetChar();if  not hrp then return;end oldBV=hrp:FindFirstChild("GladFloat");FlatIdent_2D88C=1;end if (6==FlatIdent_2D88C) then FloatBG.D=500;FloatBG.CFrame=hrp.CFrame;FloatBG.Parent=hrp;break;end if (FlatIdent_2D88C==1) then oldBG=hrp:FindFirstChild("GladGyro");if oldBV then oldBV:Destroy();end if oldBG then oldBG:Destroy();end FlatIdent_2D88C=2;end if (FlatIdent_2D88C==2) then if FloatBV then FloatBV:Destroy();end if FloatBG then FloatBG:Destroy();end FloatBV=Instance.new("BodyVelocity");FlatIdent_2D88C=3;end if (5==FlatIdent_2D88C) then FloatBG.Name="GladGyro";FloatBG.MaxTorque=Vector3.new(1000000000,1000000000,1000000000);FloatBG.P=1000000;FlatIdent_2D88C=6;end if (4==FlatIdent_2D88C) then FloatBV.P=1000000;FloatBV.Parent=hrp;FloatBG=Instance.new("BodyGyro");FlatIdent_2D88C=5;end end end local function DisableFloat() local FlatIdent_2F37F=0;while true do if (FlatIdent_2F37F==0) then if FloatBV then local FlatIdent_5998C=0;while true do if (FlatIdent_5998C==0) then FloatBV:Destroy();FloatBV=nil;break;end end end if FloatBG then local FlatIdent_2388=0;while true do if (FlatIdent_2388==0) then FloatBG:Destroy();FloatBG=nil;break;end end end break;end end end local function SetVelocity(vel) if FloatBV then FloatBV.Velocity=vel;end end local function LookAtTarget(targetPos) local FlatIdent_8BC55=0;local _;local hrp;while true do if (FlatIdent_8BC55==1) then FloatBG.CFrame=CFrame.lookAt(hrp.Position,targetPos);break;end if (FlatIdent_8BC55==0) then _,hrp=GetChar();if ( not hrp or  not FloatBG) then return;end FlatIdent_8BC55=1;end end end local function TeleportTo(position) local FlatIdent_4771B=0;local _;local hrp;while true do if (FlatIdent_4771B==1) then hrp.CFrame=CFrame.new(position);SetVelocity(Vector3.zero);break;end if (FlatIdent_4771B==0) then _,hrp=GetChar();if  not hrp then return;end FlatIdent_4771B=1;end end end local function HoldPosition(targetPos) local FlatIdent_8B336=0;local _;local hrp;local diff;local dist;while true do if (FlatIdent_8B336==1) then diff=targetPos-hrp.Position ;dist=diff.Magnitude;FlatIdent_8B336=2;end if (FlatIdent_8B336==0) then _,hrp=GetChar();if ( not hrp or  not FloatBV) then return;end FlatIdent_8B336=1;end if (FlatIdent_8B336==2) then if (dist<1) then SetVelocity(Vector3.zero);elseif (dist>30) then SetVelocity(Vector3.zero);else SetVelocity(diff.Unit * math.min(dist * 5 ,50) );end break;end end end local function HoverBelowAndLookAt(targetPos,offset) local FlatIdent_6D9D2=0;local _;local hrp;local hoverPos;local dist;while true do if (FlatIdent_6D9D2==3) then LookAtTarget(targetPos);break;end if (FlatIdent_6D9D2==2) then if (dist>25) then return;end HoldPosition(hoverPos);FlatIdent_6D9D2=3;end if (FlatIdent_6D9D2==0) then _,hrp=GetChar();if  not hrp then return;end FlatIdent_6D9D2=1;end if (FlatIdent_6D9D2==1) then hoverPos=Vector3.new(targetPos.X,targetPos.Y-offset ,targetPos.Z);dist=(hoverPos-hrp.Position).Magnitude;FlatIdent_6D9D2=2;end end end local function GuaranteedESpam(duration,interval) local FlatIdent_945DF=0;local start;local count;local minPresses;while true do if (FlatIdent_945DF==1) then minPresses=math.floor(duration/interval );while (os.clock() -start)<duration  do local FlatIdent_1FC27=0;while true do if (FlatIdent_1FC27==1) then task.wait(interval);break;end if (FlatIdent_1FC27==0) then pcall(function() local FlatIdent_20FE3=0;while true do if (FlatIdent_20FE3==1) then VIM:SendKeyEvent(false,Enum.KeyCode.E,false,game);break;end if (FlatIdent_20FE3==0) then VIM:SendKeyEvent(true,Enum.KeyCode.E,false,game);task.wait(0.008);FlatIdent_20FE3=1;end end end);count=count + 1 ;FlatIdent_1FC27=1;end end end FlatIdent_945DF=2;end if (FlatIdent_945DF==0) then start=os.clock();count=0;FlatIdent_945DF=1;end if (2==FlatIdent_945DF) then while count<minPresses  do local FlatIdent_59914=0;while true do if (FlatIdent_59914==0) then pcall(function() VIM:SendKeyEvent(true,Enum.KeyCode.E,false,game);task.wait(0.008);VIM:SendKeyEvent(false,Enum.KeyCode.E,false,game);end);count=count + 1 ;FlatIdent_59914=1;end if (1==FlatIdent_59914) then task.wait(interval);break;end end end return count;end end end local function SmoothMove(targetPos,speed) local FlatIdent_8ABD6=0;local _;local hrp;local moveSpeed;local dist;local dir;local start;local maxTime;while true do if (FlatIdent_8ABD6==3) then maxTime=(dist/moveSpeed) + 8 ;while (State.isAutoMining or State.isAutoKilling or State.isPotionBuying) and  not State.isClosing  do local _,currentHrp=GetChar();if  not currentHrp then break;end local currentDist=(targetPos-currentHrp.Position).Magnitude;if (currentDist<3) then SetVelocity(Vector3.zero);break;end if ((os.clock() -start)>maxTime) then SetVelocity(Vector3.zero);break;end EnableFloat();local newDir=(targetPos-currentHrp.Position).Unit;SetVelocity(newDir * moveSpeed );RunService.Heartbeat:Wait();end SetVelocity(Vector3.zero);return true;end if (FlatIdent_8ABD6==1) then if (dist<2) then local FlatIdent_5525C=0;while true do if (FlatIdent_5525C==0) then SetVelocity(Vector3.zero);return true;end end end EnableNoclip();EnableFloat();SetVelocity(Vector3.zero);FlatIdent_8ABD6=2;end if (FlatIdent_8ABD6==0) then _,hrp=GetChar();if  not hrp then return false;end moveSpeed=math.min(speed or Config.MoveSpeed ,60);dist=(targetPos-hrp.Position).Magnitude;FlatIdent_8ABD6=1;end if (FlatIdent_8ABD6==2) then task.wait(0.05);dir=(targetPos-hrp.Position).Unit;SetVelocity(dir * moveSpeed );start=os.clock();FlatIdent_8ABD6=3;end end end local IsTeleporting=false;local LastTPTime=0;local TP_COOLDOWN=1;local function GetGaiser() local FlatIdent_21297=0;local ok;local result;while true do if (FlatIdent_21297==0) then ok,result=pcall(function() local FlatIdent_91608=0;local assets;while true do if (FlatIdent_91608==1) then return assets:FindFirstChild("Gaiser");end if (FlatIdent_91608==0) then assets=Workspace:FindFirstChild("Assets");if  not assets then return nil;end FlatIdent_91608=1;end end end);return (ok and result) or nil ;end end end local function FocusCameraOnCannon() pcall(function() local FlatIdent_331F0=0;local camera;local cannonPart;while true do if (FlatIdent_331F0==0) then camera=Workspace.CurrentCamera;cannonPart=GetCannonPart();FlatIdent_331F0=1;end if (FlatIdent_331F0==1) then if (camera and cannonPart) then camera.CameraSubject=cannonPart;end break;end end end);end local function FocusCameraOnPlayer() pcall(function() local FlatIdent_6D68E=0;local camera;local char;local _;local hum;while true do if (FlatIdent_6D68E==0) then camera=Workspace.CurrentCamera;char,_,hum=GetChar();FlatIdent_6D68E=1;end if (FlatIdent_6D68E==1) then if (camera and hum) then local FlatIdent_854BA=0;while true do if (FlatIdent_854BA==0) then camera.CameraType=Enum.CameraType.Custom;camera.CameraSubject=hum;break;end end end break;end end end);end local function SetGaiserCollision(enabled) pcall(function() local FlatIdent_5D802=0;local gaiser;while true do if (FlatIdent_5D802==0) then gaiser=GetGaiser();if gaiser then for _,child in ipairs(gaiser:GetDescendants()) do if child:IsA("BasePart") then child.CanCollide=enabled;end end end break;end end end);end local function SafeTP(targetPos,statusText) local FlatIdent_2660B=0;local _;local hrp;local prevStatus;local cannonPart;local cannonCF;local eSpamDuration;local eSpamInterval;local startTime;while true do if (FlatIdent_2660B==6) then task.wait(0.15);FocusCameraOnPlayer();LastTPTime=os.clock();IsTeleporting=false;return true;end if (FlatIdent_2660B==4) then task.wait(0.1);State.miningStatus="Firing Cannon...";eSpamDuration=Config.ESpamDuration or 1.2 ;eSpamInterval=Config.ESpamInterval or 0.02 ;startTime=os.clock();FlatIdent_2660B=5;end if (FlatIdent_2660B==5) then while (os.clock() -startTime)<eSpamDuration  do local FlatIdent_755B0=0;while true do if (FlatIdent_755B0==0) then pcall(function() VIM:SendKeyEvent(true,Enum.KeyCode.E,false,game);end);task.wait(0.008);FlatIdent_755B0=1;end if (FlatIdent_755B0==1) then pcall(function() VIM:SendKeyEvent(false,Enum.KeyCode.E,false,game);end);task.wait(eSpamInterval);break;end end end task.wait(0.25);State.miningStatus="TP to Target...";TeleportTo(targetPos);SetVelocity(Vector3.zero);FlatIdent_2660B=6;end if (2==FlatIdent_2660B) then SetVelocity(Vector3.zero);task.wait(0.15);cannonPart=GetCannonPart();if  not cannonPart then local FlatIdent_3CDED=0;while true do if (0==FlatIdent_3CDED) then IsTeleporting=false;State.miningStatus="Cannon not found, moving...";FlatIdent_3CDED=1;end if (FlatIdent_3CDED==1) then return SmoothMove(targetPos,Config.MoveSpeed);end end end cannonCF=cannonPart.CFrame * CFrame.new(0,CANNON_HEIGHT,0) ;FlatIdent_2660B=3;end if (FlatIdent_2660B==1) then IsTeleporting=true;prevStatus=State.miningStatus;State.miningStatus=statusText or "TP Bypass..." ;EnableNoclip();EnableFloat();FlatIdent_2660B=2;end if (FlatIdent_2660B==0) then _,hrp=GetChar();if  not hrp then return false;end if  not Config.TPBypassEnabled then local FlatIdent_5962D=0;while true do if (0==FlatIdent_5962D) then State.miningStatus=statusText or "Moving..." ;EnableNoclip();FlatIdent_5962D=1;end if (FlatIdent_5962D==1) then EnableFloat();return SmoothMove(targetPos,Config.MoveSpeed);end end end if IsTeleporting then local FlatIdent_1468D=0;while true do if (FlatIdent_1468D==0) then task.wait(0.5);if IsTeleporting then return false;end break;end end end if ((os.clock() -LastTPTime)<TP_COOLDOWN) then local FlatIdent_651C5=0;local waitTime;while true do if (FlatIdent_651C5==0) then waitTime=TP_COOLDOWN-(os.clock() -LastTPTime) ;task.wait(waitTime);break;end end end FlatIdent_2660B=1;end if (FlatIdent_2660B==3) then SetGaiserCollision(true);FocusCameraOnCannon();State.miningStatus="TP to Cannon...";TeleportTo(cannonCF.Position);SetVelocity(Vector3.zero);FlatIdent_2660B=4;end end end local function TPBypassMove(targetPos) return SafeTP(targetPos,"Moving...");end local function HoverAtTarget(targetPos,offset) HoverBelowAndLookAt(targetPos,offset);end local function MinePickaxe() pcall(function() ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer("Pickaxe");end);end local function AttackWeapon() pcall(function() ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer("Weapon");end);end local function BuyPotion(potionName,amount) local FlatIdent_2D8F9=0;local ok;local err;while true do if (FlatIdent_2D8F9==0) then ok,err=pcall(function() local event=ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase");event:InvokeServer(potionName,amount or 1 );end);return ok;end end end local function DrinkPotion(potionName) local FlatIdent_8DFD0=0;local ok;local err;while true do if (FlatIdent_8DFD0==0) then ok,err=pcall(function() local FlatIdent_3B868=0;local event;while true do if (FlatIdent_3B868==0) then event=ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated");event:InvokeServer(potionName);break;end end end);return ok;end end end local function GetPotionCount(potionName) local FlatIdent_D14D=0;local count;local backpack;local char;while true do if (FlatIdent_D14D==0) then count=0;backpack=player:FindFirstChild("Backpack");FlatIdent_D14D=1;end if (1==FlatIdent_D14D) then if backpack then for _,tool in ipairs(backpack:GetChildren()) do if (tool:IsA("Tool") and (tool.Name==potionName)) then count=count + 1 ;end end end char=player.Character;FlatIdent_D14D=2;end if (FlatIdent_D14D==2) then if char then for _,tool in ipairs(char:GetChildren()) do if (tool:IsA("Tool") and (tool.Name==potionName)) then count=count + 1 ;end end end return count;end end end local function GetSelectedPotions() local FlatIdent_3ACCC=0;local selected;while true do if (FlatIdent_3ACCC==1) then return selected;end if (FlatIdent_3ACCC==0) then selected={};for potionName,enabled in pairs(PotionSelection) do if (enabled==true) then table.insert(selected,potionName);end end FlatIdent_3ACCC=1;end end end local function HasAnySelectedPotion() local FlatIdent_9777C=0;while true do if (FlatIdent_9777C==0) then for potionName,enabled in pairs(PotionSelection) do if (enabled==true) then if (GetPotionCount(potionName)>0) then return true;end end end return false;end end end local function NeedsToBuyPotions() local hasSelected=false;for potionName,enabled in pairs(PotionSelection) do if (enabled==true) then local FlatIdent_28673=0;local count;while true do if (FlatIdent_28673==0) then hasSelected=true;count=GetPotionCount(potionName);FlatIdent_28673=1;end if (1==FlatIdent_28673) then if (count==0) then return true;end break;end end end end return false;end local PotionSystem={running=false,loop=nil,drinkLoop=nil};PotionSystem.TPToShop=function(self) State.potionStatus="Finding Shop Position...";local shopPos=nil;pcall(function() local FlatIdent_145D2=0;local shops;while true do if (FlatIdent_145D2==0) then shops=Workspace:FindFirstChild("Shops");if shops then local FlatIdent_6D884=0;local potionShop;while true do if (0==FlatIdent_6D884) then potionShop=shops:FindFirstChild("Potion Shop");if potionShop then local FlatIdent_5AA23=0;local stands;while true do if (FlatIdent_5AA23==0) then stands=potionShop:FindFirstChild("Stands");if stands then local FlatIdent_3F15E=0;local models;while true do if (FlatIdent_3F15E==1) then if ( #models>=2) then shopPos=((models[1] + models[2])/2) + Vector3.new(0,3,0) ;elseif ( #models==1) then shopPos=models[1] + Vector3.new(0,3,0) ;end break;end if (FlatIdent_3F15E==0) then models={};for _,child in ipairs(stands:GetChildren()) do if (child.Name=="Model") then local FlatIdent_229D1=0;local part;while true do if (FlatIdent_229D1==0) then part=child:FindFirstChildWhichIsA("BasePart");if part then table.insert(models,part.Position);else pcall(function() table.insert(models,child:GetPivot().Position);end);end break;end end end end FlatIdent_3F15E=1;end end end FlatIdent_5AA23=1;end if (FlatIdent_5AA23==1) then if  not shopPos then local FlatIdent_541BC=0;local barrier;while true do if (FlatIdent_541BC==0) then barrier=potionShop:FindFirstChild("Barrier");if (barrier and barrier:IsA("BasePart")) then shopPos=barrier.Position + Vector3.new(0,3,0) ;end break;end end end break;end end end break;end end end break;end end end);if  not shopPos then local FlatIdent_71E8F=0;while true do if (FlatIdent_71E8F==0) then State.potionStatus="Shop not found!";return false;end end end if Config.TPBypassEnabled then local FlatIdent_51C44=0;while true do if (FlatIdent_51C44==0) then State.potionStatus="TP Bypass to Potion Shop...";SafeTP(shopPos,"TP Bypass to Potion Shop");break;end end else local FlatIdent_92514=0;while true do if (FlatIdent_92514==0) then State.potionStatus="Moving to Potion Shop...";SafeTP(shopPos,"Moving to Potion Shop");break;end end end State.potionStatus="At Potion Shop";task.wait(0.3);return true;end;PotionSystem.BuyAllSelected=function(self) local FlatIdent_13B77=0;local purchaseEvent;while true do if (FlatIdent_13B77==0) then State.potionStatus="Buying Potions...";EnableNoclip();EnableFloat();SetVelocity(Vector3.zero);FlatIdent_13B77=1;end if (FlatIdent_13B77==1) then task.wait(0.3);purchaseEvent=game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.ProximityService.RF.Purchase;if (PotionSelection['LuckPotion1']==true) then local FlatIdent_6C34=0;while true do if (0==FlatIdent_6C34) then State.potionStatus="Buying Luck Potion...";for i=1,10 do pcall(function() purchaseEvent:InvokeServer("LuckPotion1",1);end);task.wait(0.15);end FlatIdent_6C34=1;end if (FlatIdent_6C34==1) then task.wait(0.3);break;end end end if (PotionSelection['MinerPotion1']==true) then local FlatIdent_2694D=0;while true do if (FlatIdent_2694D==0) then State.potionStatus="Buying Miner Potion...";for i=1,10 do local FlatIdent_508D4=0;while true do if (FlatIdent_508D4==0) then pcall(function() purchaseEvent:InvokeServer("MinerPotion1",1);end);task.wait(0.15);break;end end end FlatIdent_2694D=1;end if (FlatIdent_2694D==1) then task.wait(0.3);break;end end end FlatIdent_13B77=2;end if (FlatIdent_13B77==3) then task.wait(0.3);return true;end if (FlatIdent_13B77==2) then if (PotionSelection['AttackDamagePotion1']==true) then local FlatIdent_8A9D7=0;while true do if (FlatIdent_8A9D7==0) then State.potionStatus="Buying Damage Potion...";for i=1,10 do local FlatIdent_22A5C=0;while true do if (0==FlatIdent_22A5C) then pcall(function() purchaseEvent:InvokeServer("AttackDamagePotion1",1);end);task.wait(0.15);break;end end end FlatIdent_8A9D7=1;end if (FlatIdent_8A9D7==1) then task.wait(0.3);break;end end end if (PotionSelection['MovementSpeedPotion1']==true) then local FlatIdent_52EE1=0;while true do if (FlatIdent_52EE1==0) then State.potionStatus="Buying Speed Potion...";for i=1,10 do local FlatIdent_2F298=0;while true do if (FlatIdent_2F298==0) then pcall(function() purchaseEvent:InvokeServer("MovementSpeedPotion1",1);end);task.wait(0.15);break;end end end FlatIdent_52EE1=1;end if (FlatIdent_52EE1==1) then task.wait(0.3);break;end end end if (PotionSelection['HealthPotion2']==true) then State.potionStatus="Buying Health Potion...";for i=1,10 do local FlatIdent_7D3C9=0;while true do if (0==FlatIdent_7D3C9) then pcall(function() purchaseEvent:InvokeServer("HealthPotion2",1);end);task.wait(0.15);break;end end end task.wait(0.3);end State.potionStatus="Bought all potions!";FlatIdent_13B77=3;end end end;PotionSystem.DrinkAllSelected=function(self) local FlatIdent_96B75=0;local drinkEvent;while true do if (FlatIdent_96B75==2) then if ((PotionSelection['MinerPotion1']==true) and (GetPotionCount("MinerPotion1")>0)) then local FlatIdent_270C=0;while true do if (FlatIdent_270C==0) then State.potionStatus="Drinking Miner Potion...";pcall(function() drinkEvent:InvokeServer("MinerPotion1");end);FlatIdent_270C=1;end if (FlatIdent_270C==1) then task.wait(0.5);break;end end end if ((PotionSelection['AttackDamagePotion1']==true) and (GetPotionCount("AttackDamagePotion1")>0)) then State.potionStatus="Drinking Damage Potion...";pcall(function() drinkEvent:InvokeServer("AttackDamagePotion1");end);task.wait(0.5);end if ((PotionSelection['MovementSpeedPotion1']==true) and (GetPotionCount("MovementSpeedPotion1")>0)) then local FlatIdent_5374D=0;while true do if (FlatIdent_5374D==1) then task.wait(0.5);break;end if (FlatIdent_5374D==0) then State.potionStatus="Drinking Speed Potion...";pcall(function() drinkEvent:InvokeServer("MovementSpeedPotion1");end);FlatIdent_5374D=1;end end end if ((PotionSelection['HealthPotion2']==true) and (GetPotionCount("HealthPotion2")>0)) then local FlatIdent_23FF9=0;while true do if (FlatIdent_23FF9==0) then State.potionStatus="Drinking Health Potion...";pcall(function() drinkEvent:InvokeServer("HealthPotion2");end);FlatIdent_23FF9=1;end if (FlatIdent_23FF9==1) then task.wait(0.5);break;end end end FlatIdent_96B75=3;end if (1==FlatIdent_96B75) then task.wait(0.3);State.potionStatus="Drinking Potions...";drinkEvent=game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.ToolService.RF.ToolActivated;if ((PotionSelection['LuckPotion1']==true) and (GetPotionCount("LuckPotion1")>0)) then local FlatIdent_370FF=0;while true do if (FlatIdent_370FF==1) then task.wait(0.5);break;end if (FlatIdent_370FF==0) then State.potionStatus="Drinking Luck Potion...";pcall(function() drinkEvent:InvokeServer("LuckPotion1");end);FlatIdent_370FF=1;end end end FlatIdent_96B75=2;end if (FlatIdent_96B75==0) then State.potionStatus="Preparing to Drink...";EnableNoclip();EnableFloat();SetVelocity(Vector3.zero);FlatIdent_96B75=1;end if (FlatIdent_96B75==3) then State.lastPotionDrink=os.clock();State.potionStatus="Potions Active";return true;end end end;PotionSystem.RunPotionCycle=function(self) local FlatIdent_810B1=0;local prevStatus;local needBuy;while true do if (FlatIdent_810B1==2) then task.wait(0.3);State.isPotionBuying=false;if State.isAutoMining then State.miningStatus="Mining...";elseif State.isAutoKilling then State.miningStatus="Auto Kill";else State.miningStatus="Idle";end return true;end if (FlatIdent_810B1==0) then if State.isPotionBuying then return false;end State.isPotionBuying=true;prevStatus=State.miningStatus;State.miningStatus="Potions Cycle...";FlatIdent_810B1=1;end if (FlatIdent_810B1==1) then task.wait(0.3);needBuy=NeedsToBuyPotions();if needBuy then local FlatIdent_322B4=0;while true do if (FlatIdent_322B4==1) then self:BuyAllSelected();task.wait(0.3);break;end if (FlatIdent_322B4==0) then self:TPToShop();task.wait(0.5);FlatIdent_322B4=1;end end end self:DrinkAllSelected();FlatIdent_810B1=2;end end end;PotionSystem.Start=function(self) local FlatIdent_2DF14=0;local hasSelected;while true do if (FlatIdent_2DF14==1) then for potionName,enabled in pairs(PotionSelection) do if (enabled==true) then hasSelected=true;break;end end if  not hasSelected then return false,"No potions selected!";end FlatIdent_2DF14=2;end if (FlatIdent_2DF14==2) then self.running=true;State.lastPotionDrink=0;FlatIdent_2DF14=3;end if (0==FlatIdent_2DF14) then if self.running then return;end hasSelected=false;FlatIdent_2DF14=1;end if (FlatIdent_2DF14==3) then self.drinkLoop=task.spawn(function() local FlatIdent_340E5=0;while true do if (FlatIdent_340E5==0) then self:RunPotionCycle();while self.running and  not State.isClosing  do task.wait(1);if  not self.running then break;end local elapsed=os.clock() -State.lastPotionDrink ;local interval=Config.PotionDrinkInterval;if (elapsed>=interval) then self:RunPotionCycle();end end break;end end end);return true;end end end;PotionSystem.Stop=function(self) local FlatIdent_129E6=0;while true do if (0==FlatIdent_129E6) then self.running=false;State.potionStatus="Idle";FlatIdent_129E6=1;end if (FlatIdent_129E6==1) then if self.drinkLoop then local FlatIdent_91A09=0;while true do if (FlatIdent_91A09==0) then task.cancel(self.drinkLoop);self.drinkLoop=nil;break;end end end break;end end end;local OreCooldowns={};local BlacklistedRocks={};local function IsOnCooldown(ore) local FlatIdent_77CC3=0;local expire;while true do if (FlatIdent_77CC3==1) then if expire then OreCooldowns[ore]=nil;end return false;end if (FlatIdent_77CC3==0) then expire=OreCooldowns[ore];if (expire and (os.clock()<expire)) then return true;end FlatIdent_77CC3=1;end end end local function SetCooldown(ore,duration) OreCooldowns[ore]=os.clock() + (duration or 12) ;end local function IsActivelyMining(ore) local FlatIdent_386FF=0;local lastHit;local health;local maxHealth;while true do if (2==FlatIdent_386FF) then if ((lastHit==player.Name) and health and maxHealth and (health<maxHealth)) then return true;end return false;end if (FlatIdent_386FF==0) then if ( not ore or  not ore.Parent) then return false;end lastHit=ore:GetAttribute("LastHitPlayer");FlatIdent_386FF=1;end if (1==FlatIdent_386FF) then health=ore:GetAttribute("Health");maxHealth=ore:GetAttribute("MaxHealth");FlatIdent_386FF=2;end end end local function RockContainsWantedOre(rockModel) local FlatIdent_49BDD=0;while true do if (FlatIdent_49BDD==0) then if  not rockModel then return false;end for _,child in ipairs(rockModel:GetChildren()) do if ((child.Name=="Ore") and child:IsA("Model")) then local FlatIdent_92569=0;local oreType;while true do if (FlatIdent_92569==0) then oreType=child:GetAttribute("Ore");if (oreType and (OreFarmSelection[oreType]==true)) then return true;end break;end end end end FlatIdent_49BDD=1;end if (FlatIdent_49BDD==1) then return false;end end end local function CountRockType(rockName) local FlatIdent_8325F=0;local count;local rocksFolder;while true do if (FlatIdent_8325F==1) then if  not rocksFolder then return 0;end for _,c1 in ipairs(rocksFolder:GetChildren()) do for _,c2 in ipairs(c1:GetChildren()) do for _,rock in ipairs(c2:GetChildren()) do if (rock.Name==rockName) then local FlatIdent_15C08=0;local hp;local maxHp;while true do if (FlatIdent_15C08==0) then hp=rock:GetAttribute("Health");maxHp=rock:GetAttribute("MaxHealth");FlatIdent_15C08=1;end if (1==FlatIdent_15C08) then if (hp and maxHp and (hp>0)) then count=count + 1 ;end break;end end end end end end FlatIdent_8325F=2;end if (FlatIdent_8325F==0) then count=0;rocksFolder=Workspace:FindFirstChild("Rocks");FlatIdent_8325F=1;end if (FlatIdent_8325F==2) then return count;end end end local function ShouldSkipLargeIceCrystal() local count=CountRockType("Large Ice Crystal");return count<=2 ;end local function CanMine(ore) local FlatIdent_89C1C=0;local hp;local lastHit;local maxHP;while true do if (3==FlatIdent_89C1C) then if (lastHit==player.Name) then return true;end maxHP=ore:GetAttribute("MaxHealth");FlatIdent_89C1C=4;end if (FlatIdent_89C1C==0) then if ( not ore or  not ore.Parent) then return false;end hp=ore:GetAttribute("Health");FlatIdent_89C1C=1;end if (FlatIdent_89C1C==2) then if ( not lastHit or (lastHit=="")) then for _,child in ipairs(ore:GetDescendants()) do if child:IsA("BasePart") then local childHit=child:GetAttribute("LastHitPlayer");if (childHit and (childHit~="")) then lastHit=childHit;break;end end end end if ( not lastHit or (lastHit=="")) then return true;end FlatIdent_89C1C=3;end if (FlatIdent_89C1C==4) then return hp and maxHP and (hp>=maxHP) ;end if (FlatIdent_89C1C==1) then if ((hp~=nil) and (hp<=0)) then return false;end lastHit=ore:GetAttribute("LastHitPlayer");FlatIdent_89C1C=2;end end end local function GetOreHP(ore) return (ore and ore:GetAttribute("Health")) or nil ;end local function GetOreMaxHP(ore) return (ore and ore:GetAttribute("MaxHealth")) or nil ;end local function GetOtherPlayers() local FlatIdent_80652=0;local positions;while true do if (1==FlatIdent_80652) then for _,p in ipairs(Players:GetPlayers()) do if ((p~=player) and p.Character) then local FlatIdent_93FA5=0;local hrp;while true do if (0==FlatIdent_93FA5) then hrp=p.Character:FindFirstChild("HumanoidRootPart");if hrp then table.insert(positions,hrp.Position);end break;end end end end return positions;end if (FlatIdent_80652==0) then if  not Config.AvoidPlayersEnabled then return {};end positions={};FlatIdent_80652=1;end end end local function NearOtherPlayer(pos,others) for _,other in ipairs(others) do local FlatIdent_1784A=0;local dx;local dz;while true do if (FlatIdent_1784A==0) then dx,dz=pos.X-other.X ,pos.Z-other.Z ;if (math.sqrt((dx * dx) + (dz * dz) )<Config.AvoidPlayersDistance) then return true;end break;end end end return false;end local function RockCanDropSelectedOre(rockName) local FlatIdent_4E1DE=0;local highestRarity;local bestOreName;local hasAnySelected;local ParseChance;while true do if (FlatIdent_4E1DE==3) then if  not hasAnySelected then return true,1,nil;end for oreName,enabled in pairs(OreFarmSelection) do if enabled then for _,ore in ipairs(OreDatabase) do if ((ore.Name==oreName) and ore.Sources) then for _,src in ipairs(ore.Sources) do if (src==rockName) then local rarity=ParseChance(ore.Chance);if (rarity>highestRarity) then local FlatIdent_7DB9E=0;while true do if (FlatIdent_7DB9E==0) then highestRarity=rarity;bestOreName=oreName;break;end end end break;end end end end end end FlatIdent_4E1DE=4;end if (0==FlatIdent_4E1DE) then highestRarity=0;bestOreName=nil;FlatIdent_4E1DE=1;end if (FlatIdent_4E1DE==2) then function ParseChance(chanceStr) local FlatIdent_2C010=0;local num;while true do if (FlatIdent_2C010==1) then return (num and tonumber(num)) or 1 ;end if (FlatIdent_2C010==0) then if  not chanceStr then return 1;end num=chanceStr:match("1/(%d+)");FlatIdent_2C010=1;end end end for oreName,enabled in pairs(OreFarmSelection) do if enabled then hasAnySelected=true;break;end end FlatIdent_4E1DE=3;end if (FlatIdent_4E1DE==4) then return highestRarity>0 ,highestRarity,bestOreName;end if (FlatIdent_4E1DE==1) then hasAnySelected=false;ParseChance=nil;FlatIdent_4E1DE=2;end end end local function GetRequiredSources() local FlatIdent_458D1=0;local sources;local sourceSet;while true do if (FlatIdent_458D1==1) then for oreName,enabled in pairs(OreFarmSelection) do if enabled then for _,ore in ipairs(OreDatabase) do if ((ore.Name==oreName) and ore.Sources) then for _,src in ipairs(ore.Sources) do if ( not table.find(MonsterSources,src) and  not sourceSet[src]) then local FlatIdent_1BC4A=0;while true do if (FlatIdent_1BC4A==0) then sourceSet[src]=true;table.insert(sources,src);break;end end end end break;end end end end table.sort(sources,function(a,b) return (RockPriority[a] or 99)<(RockPriority[b] or 99) ;end);FlatIdent_458D1=2;end if (FlatIdent_458D1==0) then sources={};sourceSet={};FlatIdent_458D1=1;end if (FlatIdent_458D1==2) then return sources;end end end local function FindBestOre(excludeCurrent) local _,hrp=GetChar();if  not hrp then return nil,nil,nil;end local playerPos=hrp.Position;local rocksFolder=Workspace:FindFirstChild("Rocks");if  not rocksFolder then return nil,nil,nil;end local others=GetOtherPlayers();local targetRocks=GetRequiredSources();local hasTargets= #targetRocks>0 ;local skipLargeIce=ShouldSkipLargeIceCrystal();local validOres={};for _,c1 in ipairs(rocksFolder:GetChildren()) do for _,c2 in ipairs(c1:GetChildren()) do for _,ore in ipairs(c2:GetChildren()) do repeat if  not ore.Parent then break;end if (excludeCurrent and (ore==excludeCurrent)) then break;end if  not (ore:IsA("Model") or ore:IsA("BasePart")) then break;end if (skipLargeIce and (ore.Name=="Large Ice Crystal")) then break;end if hasTargets then local isTarget=false;for _,t in ipairs(targetRocks) do if (ore.Name==t) then isTarget=true;break;end end if  not isTarget then break;end end if BlacklistedRocks[ore.Name] then break;end local hp=ore:GetAttribute("Health");if ((hp~=nil) and (hp<=0)) then break;end if IsOnCooldown(ore) then break;end if  not CanMine(ore) then break;end local orePos;pcall(function() orePos=ore:GetPivot().Position;end);if  not orePos then break;end if InGoblinCave(orePos) then break;end if NearOtherPlayer(orePos,others) then break;end local dx,dz=orePos.X-playerPos.X ,orePos.Z-playerPos.Z ;local dist=math.sqrt((dx * dx) + (dz * dz) );local priority=RockPriority[ore.Name] or 99 ;if (skipLargeIce and (ore.Name=="Medium Ice Crystal")) then priority=1;end table.insert(validOres,{ore=ore,hp=hp or 99999 ,dist=dist,pos=orePos,priority=priority,name=ore.Name});until true end end end if ( #validOres==0) then return nil,nil,nil;end table.sort(validOres,function(a,b) local FlatIdent_71B69=0;while true do if (FlatIdent_71B69==1) then return a.hp<b.hp ;end if (FlatIdent_71B69==0) then if (a.priority~=b.priority) then return a.priority<b.priority ;end if (math.abs(a.dist-b.dist )>40) then return a.dist<b.dist ;end FlatIdent_71B69=1;end end end);local best=validOres[1];return best.ore,best.dist,best.pos,best.name;end local function IsAlive(monster) local FlatIdent_4BD9E=0;local hum;while true do if (0==FlatIdent_4BD9E) then if ( not monster or  not monster.Parent) then return false;end hum=monster:FindFirstChildOfClass("Humanoid");FlatIdent_4BD9E=1;end if (FlatIdent_4BD9E==1) then return hum and (hum.Health>0) ;end end end local function GetMonsterPos(monster) local hrp=monster:FindFirstChild("HumanoidRootPart");if hrp then return hrp.Position;end local primary=monster.PrimaryPart;if primary then return primary.Position;end local part=monster:FindFirstChildWhichIsA("BasePart");return (part and part.Position) or nil ;end local function FindNearestMonster() local _,hrp=GetChar();if  not hrp then return nil,nil,nil;end local living=Workspace:FindFirstChild("Living");if  not living then return nil,nil,nil;end local others=GetOtherPlayers();local nearest,nearestDist,nearestPos=nil,math.huge,nil;for _,entity in ipairs(living:GetChildren()) do repeat if  not entity:IsA("Model") then break;end if (entity:GetAttribute("IsNpc")~=true) then break;end if  not IsAlive(entity) then break;end local baseName=entity.Name:gsub("%d+$","");if (MonsterFarmSelection[baseName]~=true) then break;end local mPos=GetMonsterPos(entity);if  not mPos then break;end if InGoblinCave(mPos) then break;end if NearOtherPlayer(mPos,others) then break;end local dx,dz=mPos.X-hrp.Position.X ,mPos.Z-hrp.Position.Z ;local dist=math.sqrt((dx * dx) + (dz * dz) );if (dist<nearestDist) then local FlatIdent_63A3A=0;while true do if (FlatIdent_63A3A==1) then nearestPos=mPos;break;end if (FlatIdent_63A3A==0) then nearestDist=dist;nearest=entity;FlatIdent_63A3A=1;end end end until true end return nearest,nearestDist,nearestPos;end local function FindNearbyEnemy(range) local _,hrp=GetChar();if  not hrp then return nil,nil;end local living=Workspace:FindFirstChild("Living");if  not living then return nil,nil;end local nearest,nearestDist,nearestPos=nil,math.huge,nil;for _,entity in ipairs(living:GetChildren()) do if (entity:IsA("Model") and (entity:GetAttribute("IsNpc")==true) and IsAlive(entity)) then local FlatIdent_1E025=0;local mPos;while true do if (FlatIdent_1E025==0) then mPos=GetMonsterPos(entity);if mPos then local FlatIdent_6245F=0;local dist;while true do if (FlatIdent_6245F==0) then dist=(mPos-hrp.Position).Magnitude;if ((dist<=range) and (dist<nearestDist)) then local FlatIdent_14A42=0;while true do if (FlatIdent_14A42==0) then nearestDist=dist;nearest=entity;FlatIdent_14A42=1;end if (FlatIdent_14A42==1) then nearestPos=mPos;break;end end end break;end end end break;end end end end return nearest,nearestPos;end local SellSystem={running=false};local function ScanStashAndSell() local FlatIdent_8751C=0;local basket;local hasAny;local stashUI;while true do if (FlatIdent_8751C==3) then if hasAny then pcall(function() local FlatIdent_1B64D=0;local sellEvent;while true do if (FlatIdent_1B64D==0) then sellEvent=game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.DialogueService.RF.RunCommand;sellEvent:InvokeServer("SellConfirm",{Basket=basket});break;end end end);end break;end if (FlatIdent_8751C==2) then if  not stashUI then return;end for _,oreFrame in ipairs(stashUI:GetChildren()) do if (oreFrame:IsA("Frame") or oreFrame:IsA("ImageLabel") or oreFrame:IsA("TextButton")) then local FlatIdent_D895=0;local uiName;local shouldSell;local sellName;while true do if (FlatIdent_D895==0) then uiName=oreFrame.Name;shouldSell=false;FlatIdent_D895=1;end if (FlatIdent_D895==2) then if shouldSell then local quantity=0;pcall(function() local FlatIdent_92644=0;local qtyText;local numStr;while true do if (FlatIdent_92644==1) then if numStr then quantity=tonumber(numStr) or 0 ;end break;end if (FlatIdent_92644==0) then qtyText=oreFrame.Main.Quantity.Text;numStr=qtyText:match("x(%d+)") or qtyText:match("(%d+)") ;FlatIdent_92644=1;end end end);if (quantity>0) then local FlatIdent_35F25=0;while true do if (FlatIdent_35F25==0) then basket[sellName]=quantity;hasAny=true;break;end end end end break;end if (FlatIdent_D895==1) then sellName=uiName;if (SellSelection[uiName]==true) then local FlatIdent_97270=0;while true do if (FlatIdent_97270==0) then shouldSell=true;sellName=uiName;break;end end elseif (SellSelection[uiName   .. " Ore" ]==true) then local FlatIdent_936D7=0;while true do if (FlatIdent_936D7==0) then shouldSell=true;sellName=uiName;break;end end else for oreName,enabled in pairs(SellSelection) do if (enabled==true) then local baseName=oreName:gsub(" Ore$","");if (baseName==uiName) then shouldSell=true;sellName=uiName;break;end end end end FlatIdent_D895=2;end end end end FlatIdent_8751C=3;end if (FlatIdent_8751C==1) then stashUI=nil;pcall(function() stashUI=player.PlayerGui.Menu.Frame.Frame.Menus.Stash.Background;end);FlatIdent_8751C=2;end if (FlatIdent_8751C==0) then basket={};hasAny=false;FlatIdent_8751C=1;end end end SellSystem.Start=function(self) local FlatIdent_2EB74=0;while true do if (FlatIdent_2EB74==1) then task.spawn(function() while self.running and  not State.isClosing  do local FlatIdent_630B0=0;while true do if (FlatIdent_630B0==0) then ScanStashAndSell();task.wait(Config.AutoSellInterval);break;end end end end);break;end if (FlatIdent_2EB74==0) then if self.running then return;end self.running=true;FlatIdent_2EB74=1;end end end;SellSystem.Stop=function(self) self.running=false;end;local AntiAfkSystem={running=false,conn=nil};AntiAfkSystem.Start=function(self) local FlatIdent_6AE5=0;while true do if (FlatIdent_6AE5==1) then pcall(function() for _,v in pairs(getconnections(player.Idled)) do v:Disable();end end);self.conn=task.spawn(function() while self.running and  not State.isClosing  do local FlatIdent_624DF=0;while true do if (FlatIdent_624DF==0) then pcall(function() local FlatIdent_3DF45=0;while true do if (FlatIdent_3DF45==1) then VIM:SendKeyEvent(false,Enum.KeyCode.Space,false,game);break;end if (0==FlatIdent_3DF45) then VIM:SendKeyEvent(true,Enum.KeyCode.Space,false,game);task.wait(0.05);FlatIdent_3DF45=1;end end end);task.wait(60);break;end end end end);break;end if (FlatIdent_6AE5==0) then if self.running then return;end self.running=true;FlatIdent_6AE5=1;end end end;AntiAfkSystem.Stop=function(self) local FlatIdent_15E91=0;while true do if (FlatIdent_15E91==0) then self.running=false;if self.conn then local FlatIdent_87F0A=0;while true do if (FlatIdent_87F0A==0) then task.cancel(self.conn);self.conn=nil;break;end end end break;end end end;local FarmSystem={running=false,loop=nil,scanLoop=nil};FarmSystem.StartScanner=function(self) local FlatIdent_1D0A6=0;while true do if (FlatIdent_1D0A6==0) then if self.scanLoop then return;end self.scanLoop=task.spawn(function() while State.isAutoMining and  not State.isClosing  do local FlatIdent_63284=0;local ok;local err;while true do if (FlatIdent_63284==1) then task.wait(SCAN_INTERVAL);break;end if (FlatIdent_63284==0) then ok,err=pcall(function() local FlatIdent_643B6=0;local nextOre;local nextDist;local nextPos;local nextName;while true do if (FlatIdent_643B6==0) then nextOre,nextDist,nextPos,nextName=FindBestOre(State.currentTarget);if (nextOre and nextOre.Parent) then local FlatIdent_50417=0;while true do if (FlatIdent_50417==0) then State.nextTarget=nextOre;State.nextTargetName=nextName or nextOre.Name ;break;end end else local FlatIdent_8DBF2=0;while true do if (FlatIdent_8DBF2==0) then State.nextTarget=nil;State.nextTargetName="";break;end end end break;end end end);if  not ok then local FlatIdent_4BEE8=0;while true do if (FlatIdent_4BEE8==0) then State.nextTarget=nil;State.nextTargetName="";break;end end end FlatIdent_63284=1;end end end end);break;end end end;FarmSystem.StopScanner=function(self) if self.scanLoop then task.cancel(self.scanLoop);self.scanLoop=nil;end end;FarmSystem.StartMining=function(self) if self.running then return;end local sources=GetRequiredSources();if ( #sources==0) then return;end BlacklistedRocks={};self.running=true;State.isAutoMining=true;State.miningStatus="Starting...";State.oresMinedCount=0;if Config.AutoSellEnabled then SellSystem:Start();end self:StartScanner();self.loop=task.spawn(function() local _,hrp,hum=GetChar();if hum then StoredWalkSpeed=hum.WalkSpeed;end EnableNoclip();EnableFloat();while State.isAutoMining and  not State.isClosing  do repeat if State.isPotionBuying then State.currentTarget=nil;State.currentTargetName="";State.nextTarget=nil;State.nextTargetName="";DisableNoclip();DisableFloat();while State.isPotionBuying and State.isAutoMining and  not State.isClosing  do task.wait(0.3);end if State.isAutoMining then local FlatIdent_5E642=0;while true do if (FlatIdent_5E642==0) then EnableNoclip();EnableFloat();break;end end end break;end _,hrp,hum=GetChar();if  not hrp then task.wait(0.3);break;end if Config.KillNearbyEnabled then local enemy,enemyPos=FindNearbyEnemy(Config.KillNearbyRange);if (enemy and enemyPos) then State.miningStatus="Killing "   .. enemy.Name ;State.currentTargetName=enemy.Name;local killPos=Vector3.new(enemyPos.X,enemyPos.Y-Config.KillDistance ,enemyPos.Z);if Config.TPBypassEnabled then SafeTP(killPos,"TP to "   .. enemy.Name );else local FlatIdent_9010=0;while true do if (FlatIdent_9010==1) then SmoothMove(killPos,Config.MoveSpeed);break;end if (FlatIdent_9010==0) then EnableNoclip();EnableFloat();FlatIdent_9010=1;end end end LookAtTarget(enemyPos);SetVelocity(Vector3.zero);local killStart=os.clock();while IsAlive(enemy) and ((os.clock() -killStart)<10) and State.isAutoMining  do local FlatIdent_5062=0;local newPos;local closerEnemy;local closerPos;while true do if (0==FlatIdent_5062) then newPos=GetMonsterPos(enemy);if newPos then HoverBelowAndLookAt(newPos,Config.KillDistance);end FlatIdent_5062=1;end if (FlatIdent_5062==1) then AttackWeapon();task.wait(ATTACK_TICK);FlatIdent_5062=2;end if (FlatIdent_5062==2) then closerEnemy,closerPos=FindNearbyEnemy(Config.KillNearbyRange/2 );if (closerEnemy and (closerEnemy~=enemy) and IsAlive(closerEnemy)) then local FlatIdent_81F6A=0;while true do if (FlatIdent_81F6A==1) then killStart=os.clock();break;end if (FlatIdent_81F6A==0) then enemy=closerEnemy;enemyPos=closerPos;FlatIdent_81F6A=1;end end end break;end end end task.wait(0.05);break;end end State.miningStatus="Scanning...";local ore,dist,orePos,oreName;local scanAttempts=0;local maxScanAttempts=5;while (scanAttempts<maxScanAttempts) and State.isAutoMining  do if (State.nextTarget and State.nextTarget.Parent and CanMine(State.nextTarget)) then ore=State.nextTarget;pcall(function() orePos=ore:GetPivot().Position;end);oreName=State.nextTargetName;if orePos then dist=(orePos-hrp.Position).Magnitude;break;end end ore,dist,orePos,oreName=FindBestOre(nil);if (ore and orePos) then break;end scanAttempts=scanAttempts + 1 ;task.wait(0.1);end if ( not ore or  not orePos) then State.miningStatus="No ores found...";task.wait(0.3);break;end State.currentTarget=ore;State.currentTargetName=oreName or ore.Name ;local minePos=Vector3.new(orePos.X,orePos.Y-Config.HoverOffset ,orePos.Z);if Config.TPBypassEnabled then local FlatIdent_EE01=0;while true do if (0==FlatIdent_EE01) then State.miningStatus="TP to "   .. State.currentTargetName ;SafeTP(minePos,"TP to "   .. State.currentTargetName );break;end end else State.miningStatus="Moving to "   .. State.currentTargetName ;SafeTP(minePos,"Moving to "   .. State.currentTargetName );end LookAtTarget(orePos);SetVelocity(Vector3.zero);task.wait(0.05);State.miningStatus="Mining "   .. State.currentTargetName ;local initialHP=GetOreHP(ore);local maxHP=GetOreMaxHP(ore);local mineStart=os.clock();local mineTimeout=25;local oreValidated=false;while State.isAutoMining and  not State.isClosing  do if State.isPotionBuying then break;end if Config.KillNearbyEnabled then local nearbyEnemy,_=FindNearbyEnemy(Config.KillNearbyRange);if nearbyEnemy then break;end end if ( not ore or  not ore.Parent) then break;end local hp=ore:GetAttribute("Health");if ((hp~=nil) and (hp<=0)) then State.oresMinedCount=State.oresMinedCount + 1 ;break;end if  not CanMine(ore) then SetCooldown(ore,8);break;end if (Config.MineWhitelistEnabled and  not oreValidated and maxHP and hp) then local hpPercent=hp/maxHP ;if (hpPercent<=0.45) then oreValidated=true;if  not RockContainsWantedOre(ore) then State.miningStatus="No wanted ores, skip";SetCooldown(ore,60);task.wait(0.1);break;else State.miningStatus="Found wanted ore!";end end end if ((os.clock() -mineStart)>3) then if  not IsActivelyMining(ore) then if ((os.clock() -mineStart)>mineTimeout) then SetCooldown(ore,15);break;end end end local currentOrePos;pcall(function() currentOrePos=ore:GetPivot().Position;end);if currentOrePos then HoverBelowAndLookAt(currentOrePos,Config.HoverOffset);end MinePickaxe();task.wait(MINE_TICK);end SetVelocity(Vector3.zero);State.currentTarget=nil;State.currentTargetName="";State.nextTarget=nil;task.wait(0.02);until true end DisableNoclip();DisableFloat();State.miningStatus="Stopped";end);end;FarmSystem.StopMining=function(self) local FlatIdent_72401=0;while true do if (FlatIdent_72401==2) then if self.loop then local FlatIdent_67029=0;while true do if (FlatIdent_67029==0) then task.cancel(self.loop);self.loop=nil;break;end end end DisableNoclip();DisableFloat();if SellSystem.running then SellSystem:Stop();end break;end if (FlatIdent_72401==1) then State.nextTarget=nil;State.nextTargetName="";State.miningStatus="Idle";self:StopScanner();FlatIdent_72401=2;end if (FlatIdent_72401==0) then self.running=false;State.isAutoMining=false;State.currentTarget=nil;State.currentTargetName="";FlatIdent_72401=1;end end end;FarmSystem.StartKilling=function(self) local FlatIdent_912A1=0;local hasSelected;while true do if (FlatIdent_912A1==0) then if self.running then return;end hasSelected=false;FlatIdent_912A1=1;end if (FlatIdent_912A1==3) then State.miningStatus="Auto Kill";EnableNoclip();FlatIdent_912A1=4;end if (FlatIdent_912A1==4) then EnableFloat();self.loop=task.spawn(function() while State.isAutoKilling and  not State.isClosing  do repeat local _,hrp=GetChar();if  not hrp then task.wait(0.5);break;end local monster,dist,mPos=FindNearestMonster();if ( not monster or  not mPos) then task.wait(0.2);break;end State.currentTarget=monster;State.currentTargetName=monster.Name;local killPos=Vector3.new(mPos.X,mPos.Y-Config.KillDistance ,mPos.Z);if Config.TPBypassEnabled then SafeTP(killPos,"TP to "   .. monster.Name );else SafeTP(killPos,"Moving to "   .. monster.Name );end local killStart=os.clock();while IsAlive(monster) and ((os.clock() -killStart)<15) and State.isAutoKilling  do local FlatIdent_738B0=0;local newPos;while true do if (FlatIdent_738B0==0) then newPos=GetMonsterPos(monster);if newPos then HoverAtTarget(newPos,Config.KillDistance);end FlatIdent_738B0=1;end if (FlatIdent_738B0==1) then AttackWeapon();task.wait(ATTACK_TICK);break;end end end State.currentTarget=nil;State.currentTargetName="";task.wait(0.02);until true end DisableNoclip();DisableFloat();State.miningStatus="Idle";end);break;end if (FlatIdent_912A1==2) then self.running=true;State.isAutoKilling=true;FlatIdent_912A1=3;end if (FlatIdent_912A1==1) then for _,v in pairs(MonsterFarmSelection) do if v then hasSelected=true;break;end end if  not hasSelected then return;end FlatIdent_912A1=2;end end end;FarmSystem.StopKilling=function(self) self.running=false;State.isAutoKilling=false;State.currentTarget=nil;State.currentTargetName="";State.miningStatus="Idle";if self.loop then local FlatIdent_5C540=0;while true do if (FlatIdent_5C540==0) then task.cancel(self.loop);self.loop=nil;break;end end end DisableNoclip();DisableFloat();end;local function SetWalkSpeed(speed) local FlatIdent_5DDA1=0;local _;local hum;while true do if (FlatIdent_5DDA1==0) then _,_,hum=GetChar();if hum then hum.WalkSpeed=speed;end break;end end end local function EnableFullbright() local FlatIdent_5FCA9=0;while true do if (FlatIdent_5FCA9==0) then OriginalLighting={Ambient=Lighting.Ambient,Brightness=Lighting.Brightness,OutdoorAmbient=Lighting.OutdoorAmbient};Lighting.Ambient=Color3.new(1,1,1);FlatIdent_5FCA9=1;end if (FlatIdent_5FCA9==1) then Lighting.Brightness=2;Lighting.OutdoorAmbient=Color3.new(1,1,1);break;end end end local function DisableFullbright() local FlatIdent_1FF48=0;while true do if (0==FlatIdent_1FF48) then if OriginalLighting.Ambient then Lighting.Ambient=OriginalLighting.Ambient;end if OriginalLighting.Brightness then Lighting.Brightness=OriginalLighting.Brightness;end FlatIdent_1FF48=1;end if (1==FlatIdent_1FF48) then if OriginalLighting.OutdoorAmbient then Lighting.OutdoorAmbient=OriginalLighting.OutdoorAmbient;end break;end end end local CameraNoClipConn=nil;local OriginalCameraSettings={MinZoom=0.5,MaxZoom=400};local function EnableCameraNoClip() local FlatIdent_44FA7=0;while true do if (FlatIdent_44FA7==2) then player.CameraMaxZoomDistance=9999;pcall(function() local FlatIdent_7083D=0;local PlayerModule;local cameras;while true do if (0==FlatIdent_7083D) then PlayerModule=require(player:WaitForChild("PlayerScripts"):WaitForChild("PlayerModule"));cameras=PlayerModule:GetCameras();FlatIdent_7083D=1;end if (FlatIdent_7083D==1) then if cameras then local FlatIdent_8B6F5=0;local poppercam;while true do if (FlatIdent_8B6F5==0) then poppercam=cameras.poppercam or cameras.Poppercam ;if poppercam then local FlatIdent_5CD30=0;while true do if (0==FlatIdent_5CD30) then if poppercam.Disable then poppercam:Disable();end if (poppercam.enabled~=nil) then poppercam.enabled=false;end break;end end end break;end end end break;end end end);FlatIdent_44FA7=3;end if (FlatIdent_44FA7==3) then pcall(function() local camera=Workspace.CurrentCamera;if camera then camera.CameraType=Enum.CameraType.Custom;end end);CameraNoClipConn=RunService.RenderStepped:Connect(function() local FlatIdent_9258A=0;local camera;local char;while true do if (2==FlatIdent_9258A) then for _,part in ipairs(char:GetDescendants()) do if part:IsA("BasePart") then part.CanCollide=false;end end break;end if (FlatIdent_9258A==1) then char=player.Character;if  not char then return;end FlatIdent_9258A=2;end if (FlatIdent_9258A==0) then camera=Workspace.CurrentCamera;if  not camera then return;end FlatIdent_9258A=1;end end end);break;end if (FlatIdent_44FA7==1) then OriginalCameraSettings.MaxZoom=player.CameraMaxZoomDistance;player.CameraMinZoomDistance=0;FlatIdent_44FA7=2;end if (0==FlatIdent_44FA7) then if CameraNoClipConn then return;end OriginalCameraSettings.MinZoom=player.CameraMinZoomDistance;FlatIdent_44FA7=1;end end end local function DisableCameraNoClip() local FlatIdent_3E39=0;while true do if (FlatIdent_3E39==0) then if CameraNoClipConn then local FlatIdent_8E53E=0;while true do if (FlatIdent_8E53E==0) then CameraNoClipConn:Disconnect();CameraNoClipConn=nil;break;end end end player.CameraMinZoomDistance=OriginalCameraSettings.MinZoom;FlatIdent_3E39=1;end if (1==FlatIdent_3E39) then player.CameraMaxZoomDistance=OriginalCameraSettings.MaxZoom;pcall(function() local FlatIdent_885BC=0;local PlayerModule;local cameras;while true do if (FlatIdent_885BC==0) then PlayerModule=require(player:WaitForChild("PlayerScripts"):WaitForChild("PlayerModule"));cameras=PlayerModule:GetCameras();FlatIdent_885BC=1;end if (FlatIdent_885BC==1) then if cameras then local FlatIdent_4C119=0;local poppercam;while true do if (FlatIdent_4C119==0) then poppercam=cameras.poppercam or cameras.Poppercam ;if (poppercam and poppercam.Enable) then poppercam:Enable();end break;end end end break;end end end);break;end end end local CameraFocusConn=nil;local OriginalCameraSubject=nil;local function EnableCameraFocusTarget() if CameraFocusConn then return;end local cam=Workspace.CurrentCamera;local _,_,hum=GetChar();if (hum and cam) then OriginalCameraSubject=cam.CameraSubject;end CameraFocusConn=RunService.RenderStepped:Connect(function() if  not Config.CameraFocusTargetEnabled then return;end local camera=Workspace.CurrentCamera;if  not camera then return;end if (IsTeleporting and Config.TPBypassEnabled) then local FlatIdent_20777=0;local cannonPart;while true do if (FlatIdent_20777==0) then cannonPart=GetCannonPart();if cannonPart then camera.CameraSubject=cannonPart;end FlatIdent_20777=1;end if (FlatIdent_20777==1) then return;end end end local target=State.currentTarget;if (target and target.Parent) then local FlatIdent_11039=0;local targetPart;local ok;while true do if (FlatIdent_11039==1) then if targetPart then camera.CameraSubject=targetPart;end break;end if (FlatIdent_11039==0) then targetPart=nil;ok=pcall(function() if target:IsA("Model") then targetPart=target:FindFirstChild("Hitbox") or target:FindFirstChild("HumanoidRootPart") or target.PrimaryPart or target:FindFirstChildWhichIsA("BasePart") ;elseif target:IsA("BasePart") then targetPart=target;end end);FlatIdent_11039=1;end end else local FlatIdent_93540=0;local _;local hum;while true do if (FlatIdent_93540==0) then _,_,hum=GetChar();if hum then camera.CameraSubject=hum;end break;end end end end);end local function DisableCameraFocusTarget() local FlatIdent_37906=0;while true do if (FlatIdent_37906==0) then if CameraFocusConn then local FlatIdent_772BD=0;while true do if (FlatIdent_772BD==0) then CameraFocusConn:Disconnect();CameraFocusConn=nil;break;end end end pcall(function() local FlatIdent_91637=0;local camera;local _;local hum;while true do if (FlatIdent_91637==1) then if camera then local FlatIdent_19995=0;while true do if (0==FlatIdent_19995) then camera.CameraType=Enum.CameraType.Custom;if hum then camera.CameraSubject=hum;elseif OriginalCameraSubject then camera.CameraSubject=OriginalCameraSubject;end break;end end end break;end if (FlatIdent_91637==0) then camera=Workspace.CurrentCamera;_,_,hum=GetChar();FlatIdent_91637=1;end end end);break;end end end local RocksNoClipConn=nil;local OriginalRocksCollision={};local function SetRocksCanCollide(canCollide) local FlatIdent_4B4A4=0;local rocksFolder;while true do if (FlatIdent_4B4A4==0) then rocksFolder=Workspace:FindFirstChild("Rocks");if  not rocksFolder then return;end FlatIdent_4B4A4=1;end if (FlatIdent_4B4A4==1) then for _,zone in ipairs(rocksFolder:GetChildren()) do for _,rock in ipairs(zone:GetChildren()) do for _,part in ipairs(rock:GetDescendants()) do if part:IsA("BasePart") then if  not canCollide then if (OriginalRocksCollision[part]==nil) then OriginalRocksCollision[part]=part.CanCollide;end part.CanCollide=false;elseif (OriginalRocksCollision[part]~=nil) then part.CanCollide=OriginalRocksCollision[part];end end end end end break;end end end local function EnableRocksNoClip() if RocksNoClipConn then return;end SetRocksCanCollide(false);RocksNoClipConn=RunService.Heartbeat:Connect(function() local FlatIdent_2CB11=0;local rocksFolder;while true do if (FlatIdent_2CB11==1) then if  not rocksFolder then return;end for _,zone in ipairs(rocksFolder:GetChildren()) do for _,rock in ipairs(zone:GetChildren()) do for _,part in ipairs(rock:GetDescendants()) do if (part:IsA("BasePart") and part.CanCollide) then part.CanCollide=false;end end end end break;end if (FlatIdent_2CB11==0) then if  not Config.RocksNoClipEnabled then return;end rocksFolder=Workspace:FindFirstChild("Rocks");FlatIdent_2CB11=1;end end end);end local function DisableRocksNoClip() local FlatIdent_109CF=0;while true do if (FlatIdent_109CF==1) then OriginalRocksCollision={};break;end if (FlatIdent_109CF==0) then if RocksNoClipConn then local FlatIdent_398FF=0;while true do if (FlatIdent_398FF==0) then RocksNoClipConn:Disconnect();RocksNoClipConn=nil;break;end end end SetRocksCanCollide(true);FlatIdent_109CF=1;end end end local ESP={enabled=false,loop=nil,rainbowLoop=nil};local RainbowESPObjects={};local function GetRockHighestRarity(rockName) local FlatIdent_86FCC=0;local highestRarity;local bestOreName;local ParseChance;while true do if (FlatIdent_86FCC==2) then for _,ore in ipairs(OreDatabase) do if ore.Sources then for _,src in ipairs(ore.Sources) do if (src==rockName) then local FlatIdent_2D31C=0;local rarity;while true do if (FlatIdent_2D31C==0) then rarity=ParseChance(ore.Chance);if (rarity>highestRarity) then local FlatIdent_60D19=0;while true do if (FlatIdent_60D19==0) then highestRarity=rarity;bestOreName=ore.Name;break;end end end break;end end end end end end return highestRarity,bestOreName;end if (FlatIdent_86FCC==1) then ParseChance=nil;function ParseChance(chanceStr) local FlatIdent_44005=0;local num;while true do if (FlatIdent_44005==1) then return (num and tonumber(num)) or 1 ;end if (FlatIdent_44005==0) then if  not chanceStr then return 1;end num=chanceStr:match("1/(%d+)");FlatIdent_44005=1;end end end FlatIdent_86FCC=2;end if (FlatIdent_86FCC==0) then highestRarity=0;bestOreName=nil;FlatIdent_86FCC=1;end end end local function GetRainbowColor(offset) local FlatIdent_58BB3=0;local hue;while true do if (FlatIdent_58BB3==1) then return Color3.fromHSV(hue,1,1);end if (FlatIdent_58BB3==0) then offset=offset or 0 ;hue=((tick() * 0.5) + offset)%1 ;FlatIdent_58BB3=1;end end end ESP.StartRainbowLoop=function(self) local FlatIdent_94E30=0;while true do if (FlatIdent_94E30==0) then if self.rainbowLoop then return;end self.rainbowLoop=task.spawn(function() while self.enabled and  not State.isClosing  do local FlatIdent_7F2A4=0;while true do if (FlatIdent_7F2A4==0) then for target,data in pairs(RainbowESPObjects) do if (target and target.Parent) then local FlatIdent_47DDA=0;local color;while true do if (0==FlatIdent_47DDA) then color=GetRainbowColor(data.offset or 0 );pcall(function() local FlatIdent_8A411=0;while true do if (FlatIdent_8A411==1) then if data.nameLabel then data.nameLabel.TextColor3=color;end break;end if (FlatIdent_8A411==0) then if data.highlight then local FlatIdent_4087C=0;while true do if (FlatIdent_4087C==0) then data.highlight.FillColor=color;data.highlight.OutlineColor=color;break;end end end if data.stroke then data.stroke.Color=color;end FlatIdent_8A411=1;end end end);break;end end end end task.wait(0.05);break;end end end end);break;end end end;ESP.StopRainbowLoop=function(self) local FlatIdent_30F3D=0;while true do if (FlatIdent_30F3D==0) then if self.rainbowLoop then local FlatIdent_66362=0;while true do if (FlatIdent_66362==0) then task.cancel(self.rainbowLoop);self.rainbowLoop=nil;break;end end end RainbowESPObjects={};break;end end end;ESP.CreateESP=function(self,target,espType,name,rarity,isUltraRare) local FlatIdent_373F8=0;local adornee;local color;local useRainbow;local billboard;local container;local stroke;local displayName;local nameLabel;local rarityText;local distLabel;local rarityLabel;local highlight;while true do if (FlatIdent_373F8==6) then highlight.Parent=CoreGui;EspObjects[target]={billboard,highlight,distLabel,rarityLabel};if useRainbow then local FlatIdent_26F63=0;while true do if (FlatIdent_26F63==0) then RainbowESPObjects[target]={highlight=highlight,stroke=stroke,nameLabel=nameLabel,rarityLabel=rarityLabel,offset=math.random() * 2 };if  not self.rainbowLoop then self:StartRainbowLoop();end break;end end end break;end if (FlatIdent_373F8==1) then color=nil;useRainbow=false;if (espType=="Player") then color=Theme.Error;elseif (espType=="Monster") then color=Color3.fromRGB(222,49,99);elseif (espType=="Ore") then if (isUltraRare or (rarity and (rarity>=60000))) then local FlatIdent_4A784=0;while true do if (FlatIdent_4A784==0) then color=GetRainbowColor();useRainbow=true;break;end end elseif (rarity and (rarity>=10000)) then color=Color3.fromRGB(255,215,0);elseif (rarity and (rarity>=1000)) then color=Color3.fromRGB(255,100,255);elseif (rarity and (rarity>=100)) then color=Color3.fromRGB(100,200,255);else color=Theme.Success;end else color=Theme.Success;end billboard=Create("BillboardGui",{Name="GladESP",AlwaysOnTop=true,Size=UDim2.new(0,100,0,42),StudsOffset=Vector3.new(0,3,0),Adornee=adornee,Parent=CoreGui});FlatIdent_373F8=2;end if (FlatIdent_373F8==0) then if EspObjects[target] then return;end adornee=nil;if (espType=="Ore") then adornee=target:FindFirstChild("Hitbox") or target:FindFirstChildWhichIsA("BasePart") ;else adornee=target:FindFirstChild("HumanoidRootPart") or target:FindFirstChildWhichIsA("BasePart") ;end if  not adornee then return;end FlatIdent_373F8=1;end if (FlatIdent_373F8==4) then distLabel=Create("TextLabel",{Size=UDim2.new(1,0,0.25,0),Position=UDim2.new(0,0,0.5,0),BackgroundTransparency=1,Text="0m",TextColor3=Theme.TextSecondary,TextSize=8,Font=Enum.Font.GothamMedium,Parent=container});rarityLabel=nil;if (rarityText~="") then rarityLabel=Create("TextLabel",{Size=UDim2.new(1,0,0.25,0),Position=UDim2.new(0,0,0.75,0),BackgroundTransparency=1,Text=rarityText,TextColor3=(useRainbow and color) or ((rarity>=10000) and Color3.fromRGB(255,215,0)) or Theme.TextSecondary ,TextSize=8,Font=(useRainbow and Enum.Font.GothamBold) or Enum.Font.GothamMedium ,Parent=container});end highlight=Instance.new("Highlight");FlatIdent_373F8=5;end if (FlatIdent_373F8==3) then if ( #displayName>18) then displayName=displayName:sub(1,15)   .. "..." ;end nameLabel=Create("TextLabel",{Size=UDim2.new(1,0,0.5,0),BackgroundTransparency=1,Text=displayName,TextColor3=color,TextSize=(useRainbow and 10) or 9 ,Font=(useRainbow and Enum.Font.GothamBlack) or Enum.Font.GothamBold ,TextScaled=false,TextTruncate=Enum.TextTruncate.AtEnd,Parent=container});rarityText="";if ((espType=="Ore") and rarity) then if (rarity>=100000) then rarityText="1/"   .. string.format("%.0fK",rarity/1000 ) ;elseif (rarity>=10000) then rarityText="1/"   .. string.format("%.1fK",rarity/1000 ) ;elseif (rarity>=1000) then rarityText="1/"   .. string.format("%.1fK",rarity/1000 ) ;else rarityText="1/"   .. tostring(rarity) ;end end FlatIdent_373F8=4;end if (FlatIdent_373F8==5) then highlight.Name="GladESPHighlight";highlight.FillColor=color;highlight.OutlineColor=color;if (espType=="Ore") then local FlatIdent_282A9=0;while true do if (FlatIdent_282A9==1) then highlight.Adornee=target;highlight.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;break;end if (0==FlatIdent_282A9) then highlight.FillTransparency=(useRainbow and 0.5) or 0.7 ;highlight.OutlineTransparency=0;FlatIdent_282A9=1;end end elseif (espType=="Monster") then highlight.FillTransparency=0.6;highlight.OutlineTransparency=0;highlight.Adornee=target;highlight.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;else local FlatIdent_80D6=0;while true do if (FlatIdent_80D6==1) then highlight.Adornee=target;break;end if (FlatIdent_80D6==0) then highlight.FillTransparency=0.85;highlight.OutlineTransparency=0.4;FlatIdent_80D6=1;end end end FlatIdent_373F8=6;end if (FlatIdent_373F8==2) then container=Create("Frame",{Size=UDim2.new(1,0,1,0),BackgroundColor3=Theme.Background,BackgroundTransparency=Theme.Glass,Parent=billboard});Corner(container,6);stroke=Stroke(container,color,(useRainbow and 3) or 2 );displayName=name or target.Name ;FlatIdent_373F8=3;end end end;ESP.RemoveESP=function(self,target) local FlatIdent_58C4D=0;local objs;while true do if (FlatIdent_58C4D==0) then objs=EspObjects[target];if objs then local FlatIdent_91215=0;while true do if (FlatIdent_91215==0) then for _,o in ipairs(objs) do pcall(function() o:Destroy();end);end EspObjects[target]=nil;break;end end end FlatIdent_58C4D=1;end if (FlatIdent_58C4D==1) then RainbowESPObjects[target]=nil;break;end end end;ESP.ClearAll=function(self) for t in pairs(EspObjects) do self:RemoveESP(t);end end;ESP.Start=function(self) local FlatIdent_65E70=0;while true do if (FlatIdent_65E70==0) then self.enabled=true;if self.loop then task.cancel(self.loop);end FlatIdent_65E70=1;end if (FlatIdent_65E70==1) then self.loop=task.spawn(function() while self.enabled and  not State.isClosing  do local _,hrp=GetChar();if hrp then local playerPos=hrp.Position;if Config.EspPlayersEnabled then for _,p in ipairs(Players:GetPlayers()) do if ((p~=player) and p.Character) then local FlatIdent_781FA=0;local phrp;while true do if (FlatIdent_781FA==0) then phrp=p.Character:FindFirstChild("HumanoidRootPart");if (phrp and ((phrp.Position-playerPos).Magnitude<=Config.EspDistance)) then if  not EspObjects[p.Character] then self:CreateESP(p.Character,"Player",p.Name);end else self:RemoveESP(p.Character);end break;end end end end end if Config.EspMonstersEnabled then local FlatIdent_197AE=0;local living;while true do if (FlatIdent_197AE==0) then living=Workspace:FindFirstChild("Living");if living then for _,e in ipairs(living:GetChildren()) do if (e:IsA("Model") and (e:GetAttribute("IsNpc")==true)) then local mPos=GetMonsterPos(e);if (mPos and ((mPos-playerPos).Magnitude<=Config.EspDistance) and IsAlive(e)) then if  not EspObjects[e] then self:CreateESP(e,"Monster");end else self:RemoveESP(e);end end end end break;end end end if Config.EspOresEnabled then local FlatIdent_4965B=0;local rocksFolder;while true do if (0==FlatIdent_4965B) then rocksFolder=Workspace:FindFirstChild("Rocks");if rocksFolder then for _,c1 in ipairs(rocksFolder:GetChildren()) do for _,c2 in ipairs(c1:GetChildren()) do for _,rock in ipairs(c2:GetChildren()) do if (rock:IsA("Model") or rock:IsA("BasePart")) then local FlatIdent_7FA07=0;local hp;while true do if (FlatIdent_7FA07==0) then hp=rock:GetAttribute("Health");if (hp and (hp>0)) then local FlatIdent_890D=0;local rockPos;while true do if (0==FlatIdent_890D) then rockPos=nil;pcall(function() rockPos=rock:GetPivot().Position;end);FlatIdent_890D=1;end if (FlatIdent_890D==1) then if (rockPos and ((rockPos-playerPos).Magnitude<=Config.EspDistance)) then local FlatIdent_387AE=0;local showESP;local highestRarity;local bestOreName;local rockMaxRarity;local rockBestOre;local isUltraRare;while true do if (FlatIdent_387AE==1) then isUltraRare=rockMaxRarity>=60000 ;if showESP then if  not EspObjects[rock] then local FlatIdent_97A1A=0;local displayName;while true do if (FlatIdent_97A1A==0) then displayName=(bestOreName and (rock.Name   .. " > "   .. bestOreName)) or rock.Name ;if (isUltraRare and rockBestOre) then displayName=rock.Name   .. " " ;end FlatIdent_97A1A=1;end if (FlatIdent_97A1A==1) then self:CreateESP(rock,"Ore",displayName,highestRarity,isUltraRare);break;end end end else self:RemoveESP(rock);end break;end if (FlatIdent_387AE==0) then showESP,highestRarity,bestOreName=RockCanDropSelectedOre(rock.Name);rockMaxRarity,rockBestOre=GetRockHighestRarity(rock.Name);FlatIdent_387AE=1;end end else self:RemoveESP(rock);end break;end end else self:RemoveESP(rock);end break;end end end end end end end break;end end end for target,objs in pairs(EspObjects) do repeat if ( not target or  not target.Parent) then self:RemoveESP(target);break;end local distLabel=objs[3];if distLabel then local FlatIdent_374EE=0;local part;while true do if (FlatIdent_374EE==0) then part=target:FindFirstChild("HumanoidRootPart") or target:FindFirstChild("Hitbox") or target:FindFirstChildWhichIsA("BasePart") ;if part then distLabel.Text=math.floor((part.Position-playerPos).Magnitude)   .. "m" ;end break;end end end until true end end task.wait(0.5);end end);break;end end end;ESP.Stop=function(self) local FlatIdent_179D7=0;while true do if (FlatIdent_179D7==1) then self:StopRainbowLoop();self:ClearAll();break;end if (FlatIdent_179D7==0) then self.enabled=false;if self.loop then local FlatIdent_8C1B9=0;while true do if (FlatIdent_8C1B9==0) then task.cancel(self.loop);self.loop=nil;break;end end end FlatIdent_179D7=1;end end end;local MainSize=(IsMobile and UDim2.new(0,360,0,420)) or UDim2.new(0,480,0,500) ;local SidebarW=(IsMobile and 50) or 62 ;local ToggleS=(IsMobile and 44) or 50 ;local ScreenGui=Create("ScreenGui",{Name="GladHub_V108",ResetOnSpawn=false,ZIndexBehavior=Enum.ZIndexBehavior.Sibling,IgnoreGuiInset=true});pcall(function() ScreenGui.Parent=CoreGui;end);if  not ScreenGui.Parent then ScreenGui.Parent=playerGui;end local ToastContainer=Create("Frame",{Size=UDim2.new(0,(IsMobile and 220) or 280 ,1,0),Position=UDim2.new(1,(IsMobile and  -230) or  -290 ,0,0),BackgroundTransparency=1,Parent=ScreenGui});Create("UIListLayout",{SortOrder=Enum.SortOrder.LayoutOrder,Padding=UDim.new(0,5),VerticalAlignment=Enum.VerticalAlignment.Bottom,Parent=ToastContainer});Padding(ToastContainer,10);local toastN=0;local function Toast(msg,typ,dur) local FlatIdent_2D5DD=0;local colors;local color;local toast;while true do if (FlatIdent_2D5DD==0) then if State.isClosing then return;end toastN=toastN + 1 ;colors={success=Theme.Success,warning=Theme.Warning,error=Theme.Error,info=Theme.Info};FlatIdent_2D5DD=1;end if (FlatIdent_2D5DD==3) then Tween(toast,{Position=UDim2.new(0,0,0,0)},0.25,Enum.EasingStyle.Back);task.delay(dur or 3 ,function() if (toast and toast.Parent) then local FlatIdent_3B561=0;while true do if (FlatIdent_3B561==0) then Tween(toast,{Position=UDim2.new(1,40,0,0),BackgroundTransparency=1},0.2);task.delay(0.25,function() if toast then toast:Destroy();end end);break;end end end end);break;end if (FlatIdent_2D5DD==2) then Stroke(toast,color,2);Create("Frame",{Size=UDim2.new(0,3,0.6,0),Position=UDim2.new(0,6,0.2,0),BackgroundColor3=color,BorderSizePixel=0,Parent=toast});Create("TextLabel",{Size=UDim2.new(1, -18,1,0),Position=UDim2.new(0,14,0,0),BackgroundTransparency=1,Text=msg,TextColor3=Theme.TextPrimary,TextSize=11,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,TextTruncate=Enum.TextTruncate.AtEnd,Parent=toast});FlatIdent_2D5DD=3;end if (FlatIdent_2D5DD==1) then color=colors[typ or "info" ] or Theme.Accent ;toast=Create("Frame",{Size=UDim2.new(1,0,0,34),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.Glass,LayoutOrder= -toastN,Position=UDim2.new(1,40,0,0),Parent=ToastContainer});Corner(toast,8);FlatIdent_2D5DD=2;end end end local ToggleBtn=Create("Frame",{Name="ToggleBtn",Size=UDim2.new(0,ToggleS,0,ToggleS),Position=UDim2.new(0,10,0.5, -ToggleS/2 ),BackgroundColor3=Theme.Background,BackgroundTransparency=1,ClipsDescendants=true,Parent=ScreenGui});Corner(ToggleBtn,12);Stroke(ToggleBtn,Theme.AccentLight,2);local ToggleLogo=Create("ImageLabel",{Size=UDim2.new(1,0,1,0),BackgroundTransparency=1,Image=Icons.Logo,ScaleType=Enum.ScaleType.Crop,Parent=ToggleBtn});Corner(ToggleLogo,12);local ToggleClickArea=Create("TextButton",{Size=UDim2.new(1,0,1,0),BackgroundTransparency=1,Text="",Parent=ToggleBtn});local MainFrame=Create("Frame",{Size=MainSize,Position=UDim2.new(0.5, -MainSize.X.Offset/2 ,0.5, -MainSize.Y.Offset/2 ),BackgroundColor3=Theme.Background,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,Parent=ScreenGui});Corner(MainFrame,12);Stroke(MainFrame,Theme.Border,2);Create("ImageLabel",{Size=UDim2.new(1,40,1,40),Position=UDim2.new(0.5,0,0.5,0),AnchorPoint=Vector2.new(0.5,0.5),BackgroundTransparency=1,Image="rbxassetid://5028857084",ImageColor3=Color3.new(0,0,0),ImageTransparency=0.55,ScaleType=Enum.ScaleType.Slice,SliceCenter=Rect.new(24,24,276,276),ZIndex=0,Parent=MainFrame});local TitleBar=Create("Frame",{Size=UDim2.new(1,0,0,42),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,Parent=MainFrame});Corner(TitleBar,12);Create("Frame",{Size=UDim2.new(1,0,0,14),Position=UDim2.new(0,0,1, -14),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,Parent=TitleBar});local LogoC=Create("Frame",{Size=UDim2.new(0,32,0,32),Position=UDim2.new(0,8,0.5, -16),BackgroundColor3=Theme.Background,BackgroundTransparency=1,ClipsDescendants=true,Parent=TitleBar});Corner(LogoC,8);Stroke(LogoC,Theme.Accent,2);local LogoImage=Create("ImageLabel",{Size=UDim2.new(1,0,1,0),Position=UDim2.new(0,0,0,0),BackgroundTransparency=1,Image=Icons.Logo,ScaleType=Enum.ScaleType.Crop,Parent=LogoC});Corner(LogoImage,8);Create("TextLabel",{Size=UDim2.new(0,180,1,0),Position=UDim2.new(0,44,0,0),BackgroundTransparency=1,Text="Glad Hub | The Forge",TextColor3=Theme.TextPrimary,TextSize=15,Font=Enum.Font.GothamBlack,TextXAlignment=Enum.TextXAlignment.Left,Parent=TitleBar});local VerBadge=Create("TextLabel",{Size=UDim2.new(0,40,0,16),Position=UDim2.new(0,185,0.5, -8),BackgroundColor3=Theme.Accent,BackgroundTransparency=Theme.GlassBtn,Text="V"   .. VERSION ,TextColor3=Theme.TextPrimary,TextSize=9,Font=Enum.Font.GothamBold,Parent=TitleBar});Corner(VerBadge,4);local CloseBtn=Create("TextButton",{Size=UDim2.new(0,28,0,28),Position=UDim2.new(1, -36,0.5, -14),BackgroundColor3=Theme.Error,BackgroundTransparency=Theme.GlassBtn,Text="",TextColor3=Theme.TextPrimary,TextSize=18,Font=Enum.Font.GothamBold,BorderSizePixel=0,Parent=TitleBar});Corner(CloseBtn,6);local MinBtn=Create("TextButton",{Size=UDim2.new(0,28,0,28),Position=UDim2.new(1, -70,0.5, -14),BackgroundColor3=Theme.Warning,BackgroundTransparency=Theme.GlassBtn,Text="-",TextColor3=Theme.TextPrimary,TextSize=18,Font=Enum.Font.GothamBold,BorderSizePixel=0,Parent=TitleBar});Corner(MinBtn,6);local Sidebar=Create("Frame",{Size=UDim2.new(0,SidebarW,1, -48),Position=UDim2.new(0,5,0,46),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,Parent=MainFrame});Corner(Sidebar,10);Create("UIListLayout",{SortOrder=Enum.SortOrder.LayoutOrder,Padding=UDim.new(0,4),HorizontalAlignment=Enum.HorizontalAlignment.Center,Parent=Sidebar});Create("UIPadding",{PaddingTop=UDim.new(0,6),Parent=Sidebar});local Content=Create("Frame",{Size=UDim2.new(1, -(SidebarW + 14),1, -48),Position=UDim2.new(0,SidebarW + 9 ,0,46),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,ClipsDescendants=true,Parent=MainFrame});Corner(Content,10);local CatButtons={};local CatPages={};local Categories={{name="Auto",icon=Icons.Auto,order=1},{name="Managers",icon=Icons.Manager,order=2},{name="ESP",icon=Icons.ESP,order=3},{name="Settings",icon=Icons.Settings,order=4}};local function CreateCatBtn(data) local FlatIdent_10BCD=0;local size;local btn;local icon;local label;local indicator;while true do if (4==FlatIdent_10BCD) then return btn;end if (FlatIdent_10BCD==0) then size=(IsMobile and 38) or 44 ;btn=Create("TextButton",{Size=UDim2.new(0,size,0,size),BackgroundColor3=Theme.BackgroundTertiary,BackgroundTransparency=Theme.GlassBtn,Text="",BorderSizePixel=0,LayoutOrder=data.order,Parent=Sidebar});FlatIdent_10BCD=1;end if (FlatIdent_10BCD==3) then Corner(indicator,2);CatButtons[data.name]={Btn=btn,Icon=icon,Label=label,Ind=indicator};FlatIdent_10BCD=4;end if (FlatIdent_10BCD==2) then label=Create("TextLabel",{Size=UDim2.new(1,0,0,10),Position=UDim2.new(0,0,1, -12),BackgroundTransparency=1,Text=data.name,TextColor3=Theme.TextMuted,TextSize=7,Font=Enum.Font.GothamMedium,Parent=btn});indicator=Create("Frame",{Size=UDim2.new(0,3,0.45,0),Position=UDim2.new(0,0,0.275,0),BackgroundColor3=Theme.Accent,BackgroundTransparency=1,BorderSizePixel=0,Parent=btn});FlatIdent_10BCD=3;end if (FlatIdent_10BCD==1) then Corner(btn,8);icon=Create("ImageLabel",{Size=UDim2.new(0,18,0,18),Position=UDim2.new(0.5,0,0,5),AnchorPoint=Vector2.new(0.5,0),BackgroundTransparency=1,Image=data.icon,ImageColor3=Theme.TextSecondary,Parent=btn});FlatIdent_10BCD=2;end end end local function CreateCatPage(name) local page=Create("ScrollingFrame",{Name=name,Size=UDim2.new(1, -8,1, -8),Position=UDim2.new(0,4,0,4),BackgroundTransparency=1,ScrollBarThickness=3,ScrollBarImageColor3=Theme.Accent,CanvasSize=UDim2.new(0,0,0,0),AutomaticCanvasSize=Enum.AutomaticSize.Y,Visible=name=="Auto" ,Parent=Content});Create("UIListLayout",{SortOrder=Enum.SortOrder.LayoutOrder,Padding=UDim.new(0,4),Parent=page});CatPages[name]=page;return page;end local function SwitchCat(name) local FlatIdent_D7F6=0;while true do if (FlatIdent_D7F6==0) then State.currentCategory=name;for n,c in pairs(CatButtons) do local FlatIdent_67777=0;local active;while true do if (0==FlatIdent_67777) then active=n==name ;Tween(c.Btn,{BackgroundTransparency=(active and 0.3) or Theme.GlassBtn },0.15);FlatIdent_67777=1;end if (FlatIdent_67777==1) then Tween(c.Ind,{BackgroundTransparency=(active and 0) or 1 },0.15);Tween(c.Icon,{ImageColor3=(active and Theme.Accent) or Theme.TextSecondary },0.15);FlatIdent_67777=2;end if (FlatIdent_67777==2) then Tween(c.Label,{TextColor3=(active and Theme.TextPrimary) or Theme.TextMuted },0.15);break;end end end FlatIdent_D7F6=1;end if (FlatIdent_D7F6==1) then for n,p in pairs(CatPages) do if (n==name) then local FlatIdent_54109=0;while true do if (FlatIdent_54109==0) then p.Visible=true;Tween(p,{Position=UDim2.new(0,4,0,4)},0.15);break;end end else p.Visible=false;end end break;end end end for _,data in ipairs(Categories) do local FlatIdent_4A7B7=0;local btn;while true do if (FlatIdent_4A7B7==0) then btn=CreateCatBtn(data);CreateCatPage(data.name);FlatIdent_4A7B7=1;end if (FlatIdent_4A7B7==1) then btn.MouseButton1Click:Connect(function() SwitchCat(data.name);end);break;end end end SwitchCat("Auto");local function Section(parent,title,order) local FlatIdent_7B8B1=0;local sec;while true do if (FlatIdent_7B8B1==1) then return sec;end if (FlatIdent_7B8B1==0) then sec=Create("Frame",{Size=UDim2.new(1,0,0,20),BackgroundTransparency=1,LayoutOrder=order or 0 ,Parent=parent});Create("TextLabel",{Size=UDim2.new(1,0,1,0),BackgroundTransparency=1,Text="  "   .. string.upper(title) ,TextColor3=Theme.TextMuted,TextSize=8,Font=Enum.Font.GothamBold,TextXAlignment=Enum.TextXAlignment.Left,Parent=sec});FlatIdent_7B8B1=1;end end end local function Toggle(parent,text,icon,order,cb,default) local FlatIdent_7CF06=0;local container;local switchBg;local switchKnob;local enabled;local SetState;while true do if (2==FlatIdent_7CF06) then switchKnob=Create("Frame",{Size=UDim2.new(0,16,0,16),Position=UDim2.new(0,2,0.5, -8),BackgroundColor3=Theme.TextPrimary,BorderSizePixel=0,Parent=switchBg});Corner(switchKnob,8);enabled=default or false ;FlatIdent_7CF06=3;end if (FlatIdent_7CF06==3) then SetState=nil;function SetState(state) local FlatIdent_8AD85=0;while true do if (FlatIdent_8AD85==1) then Tween(switchKnob,{Position=(state and UDim2.new(1, -18,0.5, -8)) or UDim2.new(0,2,0.5, -8) },0.15,Enum.EasingStyle.Back);break;end if (FlatIdent_8AD85==0) then enabled=state;Tween(switchBg,{BackgroundColor3=(state and Theme.Accent) or Theme.Border },0.15);FlatIdent_8AD85=1;end end end if default then SetState(default);end FlatIdent_7CF06=4;end if (FlatIdent_7CF06==1) then Create("TextLabel",{Size=UDim2.new(1, -70,1,0),Position=UDim2.new(0,30,0,0),BackgroundTransparency=1,Text=text,TextColor3=Theme.TextPrimary,TextSize=11,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,Parent=container});switchBg=Create("Frame",{Size=UDim2.new(0,38,0,20),Position=UDim2.new(1, -46,0.5, -10),BackgroundColor3=Theme.Border,BorderSizePixel=0,Parent=container});Corner(switchBg,10);FlatIdent_7CF06=2;end if (FlatIdent_7CF06==0) then container=Create("Frame",{Size=UDim2.new(1,0,0,36),BackgroundColor3=Theme.BackgroundTertiary,BackgroundTransparency=Theme.GlassBtn,BorderSizePixel=0,LayoutOrder=order or 0 ,Parent=parent});Corner(container,8);Create("ImageLabel",{Size=UDim2.new(0,16,0,16),Position=UDim2.new(0,8,0.5, -8),BackgroundTransparency=1,Image=icon or "" ,ImageColor3=Theme.TextSecondary,Parent=container});FlatIdent_7CF06=1;end if (FlatIdent_7CF06==4) then container.InputBegan:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then local FlatIdent_15AD5=0;while true do if (FlatIdent_15AD5==0) then enabled= not enabled;SetState(enabled);FlatIdent_15AD5=1;end if (FlatIdent_15AD5==1) then if cb then cb(enabled);end MarkDirty();break;end end end end);return {Container=container,SetState=SetState,GetState=function() return enabled;end};end end end local function Slider(parent,text,min,max,default,order,cb,decimal,configKey) local container=Create("Frame",{Size=UDim2.new(1,0,0,48),BackgroundColor3=Theme.BackgroundTertiary,BackgroundTransparency=Theme.GlassBtn,BorderSizePixel=0,LayoutOrder=order or 0 ,Parent=parent});Corner(container,8);Create("TextLabel",{Size=UDim2.new(0.55,0,0,18),Position=UDim2.new(0,10,0,5),BackgroundTransparency=1,Text=text,TextColor3=Theme.TextPrimary,TextSize=11,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,Parent=container});local valueLabel=Create("TextLabel",{Size=UDim2.new(0.45, -14,0,18),Position=UDim2.new(0.55,0,0,5),BackgroundTransparency=1,Text=tostring(default),TextColor3=Theme.Accent,TextSize=11,Font=Enum.Font.GothamBold,TextXAlignment=Enum.TextXAlignment.Right,Parent=container});local sliderBg=Create("Frame",{Size=UDim2.new(1, -20,0,8),Position=UDim2.new(0,10,0,30),BackgroundColor3=Theme.Border,BorderSizePixel=0,Parent=container});Corner(sliderBg,4);local sliderFill=Create("Frame",{Size=UDim2.new((default-min)/(max-min) ,0,1,0),BackgroundColor3=Theme.Accent,BorderSizePixel=0,Parent=sliderBg});Corner(sliderFill,4);local fillGlow=Create("Frame",{Size=UDim2.new(1,4,1,4),Position=UDim2.new(0, -2,0, -2),BackgroundColor3=Theme.Accent,BackgroundTransparency=0.7,BorderSizePixel=0,ZIndex=0,Parent=sliderFill});Corner(fillGlow,6);local sliderKnob=Create("Frame",{Size=UDim2.new(0,18,0,18),Position=UDim2.new((default-min)/(max-min) , -9,0.5, -9),BackgroundColor3=Theme.TextPrimary,BorderSizePixel=0,ZIndex=10,Parent=sliderBg});Corner(sliderKnob,9);Stroke(sliderKnob,Theme.Accent,2);local knobDot=Create("Frame",{Size=UDim2.new(0,6,0,6),Position=UDim2.new(0.5, -3,0.5, -3),BackgroundColor3=Theme.Accent,BorderSizePixel=0,Parent=sliderKnob});Corner(knobDot,3);local currentValue=default;local dragging=false;local targetPct=(default-min)/(max-min) ;local function UpdateVisual(pct,instant) local FlatIdent_51A3C=0;local duration;while true do if (FlatIdent_51A3C==1) then Tween(sliderKnob,{Position=UDim2.new(pct, -9,0.5, -9)},duration,Enum.EasingStyle.Quad,Enum.EasingDirection.Out);break;end if (FlatIdent_51A3C==0) then duration=(instant and 0) or 0.08 ;Tween(sliderFill,{Size=UDim2.new(pct,0,1,0)},duration,Enum.EasingStyle.Quad,Enum.EasingDirection.Out);FlatIdent_51A3C=1;end end end local function SetValue(val,skipCallback,instant) local FlatIdent_677DA=0;while true do if (FlatIdent_677DA==0) then currentValue=(decimal and math.clamp(math.floor((val * 10) + 0.5 )/10 ,min,max)) or math.clamp(math.floor(val + 0.5 ),min,max) ;targetPct=(currentValue-min)/(max-min) ;FlatIdent_677DA=1;end if (FlatIdent_677DA==1) then UpdateVisual(targetPct,instant);valueLabel.Text=tostring(currentValue);FlatIdent_677DA=2;end if (FlatIdent_677DA==2) then if (cb and  not skipCallback) then cb(currentValue);end break;end end end local function UpdateFromInput(input) local pct=math.clamp((input.Position.X-sliderBg.AbsolutePosition.X)/sliderBg.AbsoluteSize.X ,0,1);local newVal=min + ((max-min) * pct) ;SetValue(newVal);end sliderBg.InputBegan:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then local FlatIdent_339EC=0;while true do if (FlatIdent_339EC==0) then dragging=true;UpdateFromInput(input);FlatIdent_339EC=1;end if (FlatIdent_339EC==1) then Tween(sliderKnob,{Size=UDim2.new(0,22,0,22),Position=UDim2.new(targetPct, -11,0.5, -11)},0.1);break;end end end end);sliderKnob.InputBegan:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then dragging=true;Tween(sliderKnob,{Size=UDim2.new(0,22,0,22),Position=UDim2.new(targetPct, -11,0.5, -11)},0.1);end end);Track(UserInputService.InputEnded:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then if dragging then local FlatIdent_15653=0;while true do if (FlatIdent_15653==0) then MarkDirty();Tween(sliderKnob,{Size=UDim2.new(0,18,0,18),Position=UDim2.new(targetPct, -9,0.5, -9)},0.15,Enum.EasingStyle.Back);break;end end end dragging=false;end end));Track(UserInputService.InputChanged:Connect(function(input) if (dragging and ((input.UserInputType==Enum.UserInputType.MouseMovement) or (input.UserInputType==Enum.UserInputType.Touch))) then UpdateFromInput(input);end end));container.MouseEnter:Connect(function() Tween(container,{BackgroundTransparency=Theme.GlassBtn-0.1 },0.1);end);container.MouseLeave:Connect(function() Tween(container,{BackgroundTransparency=Theme.GlassBtn},0.1);end);local sliderObj={Container=container,GetValue=function() return currentValue;end,SetValue=function(v) SetValue(v,false,true);end,SetValueSilent=function(v) SetValue(v,true,true);end};if configKey then SliderRefs[configKey]=sliderObj;end return sliderObj;end local function ManagerBtn(parent,title,icon,color,order,onClick) local FlatIdent_10B3D=0;local btn;local iconBg;local arrow;while true do if (FlatIdent_10B3D==1) then iconBg=Create("Frame",{Size=UDim2.new(0,42,0,42),Position=UDim2.new(0,10,0.5, -21),BackgroundColor3=color,BackgroundTransparency=0.75,Parent=btn});Corner(iconBg,10);Create("ImageLabel",{Size=UDim2.new(0,24,0,24),Position=UDim2.new(0.5,0,0.5,0),AnchorPoint=Vector2.new(0.5,0.5),BackgroundTransparency=1,Image=icon,ImageColor3=Theme.TextPrimary,Parent=iconBg});FlatIdent_10B3D=2;end if (FlatIdent_10B3D==2) then Create("TextLabel",{Size=UDim2.new(1, -70,0,20),Position=UDim2.new(0,60,0,12),BackgroundTransparency=1,Text=title,TextColor3=Theme.TextPrimary,TextSize=13,Font=Enum.Font.GothamBold,TextXAlignment=Enum.TextXAlignment.Left,Parent=btn});Create("TextLabel",{Size=UDim2.new(1, -70,0,14),Position=UDim2.new(0,60,0,34),BackgroundTransparency=1,Text="Click to configure",TextColor3=Theme.TextMuted,TextSize=9,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,Parent=btn});arrow=Create("TextLabel",{Size=UDim2.new(0,20,0,20),Position=UDim2.new(1, -30,0.5, -10),BackgroundTransparency=1,Text=">",TextColor3=color,TextSize=20,Font=Enum.Font.GothamBold,Parent=btn});FlatIdent_10B3D=3;end if (4==FlatIdent_10B3D) then return btn;end if (FlatIdent_10B3D==0) then btn=Create("TextButton",{Size=UDim2.new(1,0,0,62),BackgroundColor3=Theme.BackgroundTertiary,BackgroundTransparency=Theme.GlassBtn,Text="",BorderSizePixel=0,LayoutOrder=order,Parent=parent});Corner(btn,10);Stroke(btn,color,2);FlatIdent_10B3D=1;end if (FlatIdent_10B3D==3) then btn.MouseButton1Click:Connect(onClick);btn.MouseEnter:Connect(function() local FlatIdent_3AF69=0;while true do if (FlatIdent_3AF69==0) then Tween(btn,{BackgroundTransparency=0.35},0.1);Tween(arrow,{Position=UDim2.new(1, -26,0.5, -10)},0.1);break;end end end);btn.MouseLeave:Connect(function() local FlatIdent_5B76B=0;while true do if (FlatIdent_5B76B==0) then Tween(btn,{BackgroundTransparency=Theme.GlassBtn},0.1);Tween(arrow,{Position=UDim2.new(1, -30,0.5, -10)},0.1);break;end end end);FlatIdent_10B3D=4;end end end local ManagerPopup=nil;local function ClosePopup() if ManagerPopup then local FlatIdent_74CC9=0;while true do if (0==FlatIdent_74CC9) then Tween(ManagerPopup,{Position=UDim2.new(0.5,0,1.5,0)},0.2,Enum.EasingStyle.Back,Enum.EasingDirection.In);task.delay(0.25,function() if ManagerPopup then local FlatIdent_27E8B=0;while true do if (FlatIdent_27E8B==0) then ManagerPopup:Destroy();ManagerPopup=nil;break;end end end end);break;end end end end local function OpenPopup(title,items,selectionTable,onUpdate) ClosePopup();local popupSize=(IsMobile and UDim2.new(0,320,0,400)) or UDim2.new(0,440,0,500) ;local popup=Create("Frame",{Size=popupSize,Position=UDim2.new(0.5,0,1.5,0),AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Theme.Background,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,ZIndex=100,Parent=ScreenGui});Corner(popup,14);Stroke(popup,Theme.Accent,2);local header=Create("Frame",{Size=UDim2.new(1,0,0,44),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,ZIndex=100,Parent=popup});Corner(header,14);Create("Frame",{Size=UDim2.new(1,0,0,14),Position=UDim2.new(0,0,1, -14),BackgroundColor3=Theme.BackgroundSecondary,BackgroundTransparency=Theme.GlassPanel,BorderSizePixel=0,ZIndex=100,Parent=header});Create("TextLabel",{Size=UDim2.new(1, -70,1,0),Position=UDim2.new(0,14,0,0),BackgroundTransparency=1,Text=title,TextColor3=Theme.TextPrimary,TextSize=14,Font=Enum.Font.GothamBold,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=100,Parent=header});local closePopup=Create("TextButton",{Size=UDim2.new(0,32,0,32),Position=UDim2.new(1, -42,0.5, -16),BackgroundColor3=Theme.Error,BackgroundTransparency=Theme.GlassBtn,Text="",TextColor3=Theme.TextPrimary,TextSize=18,Font=Enum.Font.GothamBold,BorderSizePixel=0,ZIndex=100,Parent=header});Corner(closePopup,8);closePopup.MouseButton1Click:Connect(ClosePopup);local popupDrag={dragging=false,start=nil,startPos=nil};header.InputBegan:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then local FlatIdent_5B658=0;while true do if (1==FlatIdent_5B658) then popupDrag.startPos=popup.Position;break;end if (0==FlatIdent_5B658) then popupDrag.dragging=true;popupDrag.start=input.Position;FlatIdent_5B658=1;end end end end);header.InputEnded:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then popupDrag.dragging=false;end end);Track(UserInputService.InputChanged:Connect(function(input) if (popupDrag.dragging and ((input.UserInputType==Enum.UserInputType.MouseMovement) or (input.UserInputType==Enum.UserInputType.Touch))) then local FlatIdent_99155=0;local delta;while true do if (FlatIdent_99155==0) then delta=input.Position-popupDrag.start ;popup.Position=UDim2.new(popupDrag.startPos.X.Scale,popupDrag.startPos.X.Offset + delta.X ,popupDrag.startPos.Y.Scale,popupDrag.startPos.Y.Offset + delta.Y );break;end end end end));local actionBar=Create("Frame",{Size=UDim2.new(1, -16,0,32),Position=UDim2.new(0,8,0,50),BackgroundTransparency=1,ZIndex=100,Parent=popup});local selectAll=Create("TextButton",{Size=UDim2.new(0.32,0,1,0),BackgroundColor3=Theme.Success,BackgroundTransparency=Theme.GlassBtn,Text="All",TextColor3=Theme.TextPrimary,TextSize=11,Font=Enum.Font.GothamBold,BorderSizePixel=0,ZIndex=100,Parent=actionBar});Corner(selectAll,6);local deselectAll=Create("TextButton",{Size=UDim2.new(0.32,0,1,0),Position=UDim2.new(0.34,0,0,0),BackgroundColor3=Theme.Error,BackgroundTransparency=Theme.GlassBtn,Text="None",TextColor3=Theme.TextPrimary,TextSize=11,Font=Enum.Font.GothamBold,BorderSizePixel=0,ZIndex=100,Parent=actionBar});Corner(deselectAll,6);local saveBtn=Create("TextButton",{Size=UDim2.new(0.32,0,1,0),Position=UDim2.new(0.68,0,0,0),BackgroundColor3=Theme.Accent,BackgroundTransparency=Theme.GlassBtn,Text="Save",TextColor3=Theme.TextPrimary,TextSize=11,Font=Enum.Font.GothamBold,BorderSizePixel=0,ZIndex=100,Parent=actionBar});Corner(saveBtn,6);local listContainer=Create("ScrollingFrame",{Size=UDim2.new(1, -16,1, -90),Position=UDim2.new(0,8,0,88),BackgroundTransparency=1,ScrollBarThickness=3,ScrollBarImageColor3=Theme.Accent,CanvasSize=UDim2.new(0,0,0,0),AutomaticCanvasSize=Enum.AutomaticSize.Y,ZIndex=100,Parent=popup});Create("UIListLayout",{SortOrder=Enum.SortOrder.LayoutOrder,Padding=UDim.new(0,2),Parent=listContainer});local checkboxes={};for i,item in ipairs(items) do local enabled=selectionTable[item.Name]==true ;local row=Create("Frame",{Size=UDim2.new(1,0,0,36),BackgroundColor3=Theme.BackgroundTertiary,BackgroundTransparency=Theme.GlassBtn,BorderSizePixel=0,LayoutOrder=i,ZIndex=100,Parent=listContainer});Corner(row,6);local color=Theme.TextPrimary;if item.Rarity then color=RarityColors[item.Rarity] or Theme.TextPrimary ;end if item.IsBoss then color=Theme.Warning;end if item.Color then color=item.Color;end Create("Frame",{Size=UDim2.new(0,3,0.6,0),Position=UDim2.new(0,4,0.2,0),BackgroundColor3=color,BorderSizePixel=0,ZIndex=100,Parent=row});local displayText=item.DisplayName or item.Name ;if item.IsBoss then displayText="* "   .. displayText ;end Create("TextLabel",{Size=UDim2.new(0.5, -8,0,16),Position=UDim2.new(0,12,0,3),BackgroundTransparency=1,Text=displayText,TextColor3=color,TextSize=10,Font=Enum.Font.GothamBold,TextXAlignment=Enum.TextXAlignment.Left,TextTruncate=Enum.TextTruncate.AtEnd,ZIndex=100,Parent=row});local info="";if item.Chance then info="I"   .. (item.Island or "?")   .. " | "   .. item.Chance ;end if item.Map then info="I"   .. (item.Island or "?")   .. " | "   .. item.Map ;end if item.Effect then info=item.Effect   .. " | "   .. (item.Duration or "") ;end Create("TextLabel",{Size=UDim2.new(1, -40,0,10),Position=UDim2.new(0,12,0,21),BackgroundTransparency=1,Text=info,TextColor3=Theme.TextMuted,TextSize=7,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,ZIndex=100,Parent=row});local checkbox=Create("TextButton",{Size=UDim2.new(0,24,0,24),Position=UDim2.new(1, -32,0.5, -12),BackgroundColor3=(enabled and Theme.Success) or Theme.Border ,Text=(enabled and "O") or "" ,TextColor3=Theme.TextPrimary,TextSize=14,Font=Enum.Font.GothamBold,BorderSizePixel=0,ZIndex=100,Parent=row});Corner(checkbox,5);checkboxes[item.Name]={checkbox=checkbox,enabled=enabled};checkbox.MouseButton1Click:Connect(function() local FlatIdent_6BEDE=0;local d;while true do if (FlatIdent_6BEDE==1) then selectionTable[item.Name]=d.enabled;d.checkbox.BackgroundColor3=(d.enabled and Theme.Success) or Theme.Border ;FlatIdent_6BEDE=2;end if (FlatIdent_6BEDE==0) then d=checkboxes[item.Name];d.enabled= not d.enabled;FlatIdent_6BEDE=1;end if (FlatIdent_6BEDE==2) then d.checkbox.Text=(d.enabled and "O") or "" ;MarkDirty();break;end end end);end selectAll.MouseButton1Click:Connect(function() local FlatIdent_43BA3=0;while true do if (FlatIdent_43BA3==0) then for name,d in pairs(checkboxes) do local FlatIdent_2E52D=0;while true do if (FlatIdent_2E52D==0) then d.enabled=true;selectionTable[name]=true;FlatIdent_2E52D=1;end if (FlatIdent_2E52D==1) then d.checkbox.BackgroundColor3=Theme.Success;d.checkbox.Text="O";break;end end end MarkDirty();FlatIdent_43BA3=1;end if (FlatIdent_43BA3==1) then Toast("All selected!","success");break;end end end);deselectAll.MouseButton1Click:Connect(function() local FlatIdent_2ABD9=0;while true do if (FlatIdent_2ABD9==1) then Toast("All deselected","info");break;end if (FlatIdent_2ABD9==0) then for name,d in pairs(checkboxes) do local FlatIdent_5222E=0;while true do if (FlatIdent_5222E==1) then d.checkbox.BackgroundColor3=Theme.Border;d.checkbox.Text="";break;end if (FlatIdent_5222E==0) then d.enabled=false;selectionTable[name]=false;FlatIdent_5222E=1;end end end MarkDirty();FlatIdent_2ABD9=1;end end end);saveBtn.MouseButton1Click:Connect(function() SaveData();if onUpdate then onUpdate();end Toast("Saved!","success");ClosePopup();end);ManagerPopup=popup;Tween(popup,{Position=UDim2.new(0.5,0,0.5,0)},0.3,Enum.EasingStyle.Back);end local AutoPage=CatPages['Auto'];local statusFrame=Create("Frame",{Size=UDim2.new(1,0,0,68),BackgroundColor3=Theme.BackgroundTertiary,BackgroundTransparency=Theme.GlassBtn,BorderSizePixel=0,LayoutOrder=0,Parent=AutoPage});Corner(statusFrame,8);Stroke(statusFrame,Theme.Accent,1);Create("ImageLabel",{Size=UDim2.new(0,18,0,18),Position=UDim2.new(0,8,0,8),BackgroundTransparency=1,Image=Icons.Status,ImageColor3=Theme.Accent,Parent=statusFrame});Create("TextLabel",{Size=UDim2.new(0.5, -30,0,16),Position=UDim2.new(0,30,0,8),BackgroundTransparency=1,Text="Status",TextColor3=Theme.TextMuted,TextSize=9,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,Parent=statusFrame});local statusLabel=Create("TextLabel",{Name="Status",Size=UDim2.new(1, -16,0,14),Position=UDim2.new(0,8,0,26),BackgroundTransparency=1,Text="Idle",TextColor3=Theme.Success,TextSize=10,Font=Enum.Font.GothamBold,TextXAlignment=Enum.TextXAlignment.Left,Parent=statusFrame});local targetLabel=Create("TextLabel",{Name="Target",Size=UDim2.new(1, -16,0,10),Position=UDim2.new(0,8,0,40),BackgroundTransparency=1,Text="Target: None",TextColor3=Theme.TextSecondary,TextSize=8,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,TextTruncate=Enum.TextTruncate.AtEnd,Parent=statusFrame});local potionLabel=Create("TextLabel",{Name="Potion",Size=UDim2.new(1, -16,0,10),Position=UDim2.new(0,8,0,52),BackgroundTransparency=1,Text="Potions: Idle",TextColor3=Theme.Potion,TextSize=8,Font=Enum.Font.GothamMedium,TextXAlignment=Enum.TextXAlignment.Left,TextTruncate=Enum.TextTruncate.AtEnd,Parent=statusFrame});task.spawn(function() while  not State.isClosing do statusLabel.Text=State.miningStatus;statusLabel.TextColor3=(State.isAutoMining and Theme.Success) or (State.isAutoKilling and Theme.Warning) or Theme.TextMuted ;local targetText="Target: ";if (State.currentTargetName~="") then targetText=targetText   .. State.currentTargetName ;else targetText=targetText   .. "None" ;end if (State.nextTargetName~="") then targetText=targetText   .. " | Next: "   .. State.nextTargetName ;end targetLabel.Text=targetText;local potionText="Potions: "   .. State.potionStatus ;if (PotionSystem.running and (State.lastPotionDrink>0)) then local FlatIdent_50F9C=0;local elapsed;local remaining;local mins;local secs;while true do if (FlatIdent_50F9C==1) then mins=math.floor(remaining/60 );secs=math.floor(remaining%60 );FlatIdent_50F9C=2;end if (FlatIdent_50F9C==0) then elapsed=os.clock() -State.lastPotionDrink ;remaining=math.max(0,Config.PotionDrinkInterval-elapsed );FlatIdent_50F9C=1;end if (FlatIdent_50F9C==2) then potionText=potionText   .. string.format(" | Next: %d:%02d",mins,secs) ;break;end end end potionLabel.Text=potionText;task.wait(0.15);end end);Section(AutoPage,"Mining",1);local AutoMineToggle=Toggle(AutoPage,"Auto Mine",Icons.Mine,2,function(e) if e then local FlatIdent_1BD42=0;while true do if (FlatIdent_1BD42==0) then FarmSystem:StartMining();Toast("Mining started!","success");break;end end else local FlatIdent_5B743=0;while true do if (0==FlatIdent_5B743) then FarmSystem:StopMining();Toast("Mining stopped","info");break;end end end end,false);Toggle(AutoPage,"Mine Whitelist Only",Icons.Auto,3,function(e) local FlatIdent_4D36D=0;while true do if (FlatIdent_4D36D==0) then Config.MineWhitelistEnabled=e;if e then Toast("Whitelist ON - Skip unwanted rocks","success");else Toast("Whitelist OFF - Mine everything","info");end break;end end end,Config.MineWhitelistEnabled);Toggle(AutoPage,"Kill Nearby Enemies",Icons.Kill,4,function(e) local FlatIdent_B1CA=0;while true do if (FlatIdent_B1CA==0) then Config.KillNearbyEnabled=e;Toast((e and "Kill Nearby: ON") or "Kill Nearby: OFF" ,(e and "success") or "info" );break;end end end,Config.KillNearbyEnabled);Slider(AutoPage,"Kill Range",10,100,Config.KillNearbyRange,5,function(v) Config.KillNearbyRange=v;end,false,"KillNearbyRange");Section(AutoPage,"Selling",6);Toggle(AutoPage,"Auto Sell Ores",Icons.Sell,7,function(e) local FlatIdent_9F31=0;while true do if (FlatIdent_9F31==0) then Config.AutoSellEnabled=e;if e then local FlatIdent_63697=0;while true do if (FlatIdent_63697==0) then SellSystem:Start();Toast("Auto Sell: ON","success");break;end end else local FlatIdent_31AE7=0;while true do if (0==FlatIdent_31AE7) then SellSystem:Stop();Toast("Auto Sell: OFF","info");break;end end end break;end end end,Config.AutoSellEnabled);Slider(AutoPage,"Sell Interval (sec)",0.3,3,Config.AutoSellInterval,8,function(v) Config.AutoSellInterval=v;end,true,"AutoSellInterval");Section(AutoPage,"Potions",9);local AutoPotionToggle=Toggle(AutoPage,"Auto Buy/Drink Potions",Icons.Potion,10,function(e) if e then local FlatIdent_839BC=0;local hasSelected;local ok;local err;while true do if (FlatIdent_839BC==1) then if  not hasSelected then local FlatIdent_34792=0;while true do if (1==FlatIdent_34792) then return;end if (FlatIdent_34792==0) then Toast("Select potions in Manager first!","warning");AutoPotionToggle.SetState(false);FlatIdent_34792=1;end end end ok,err=PotionSystem:Start();FlatIdent_839BC=2;end if (2==FlatIdent_839BC) then if ok then local FlatIdent_3EEB1=0;while true do if (FlatIdent_3EEB1==0) then Config.AutoPotionsEnabled=true;Toast("Auto Potions: ON","success");break;end end else local FlatIdent_694F9=0;while true do if (FlatIdent_694F9==0) then Toast(err or "Failed to start" ,"error");AutoPotionToggle.SetState(false);break;end end end break;end if (FlatIdent_839BC==0) then hasSelected=false;for potionName,enabled in pairs(PotionSelection) do if (enabled==true) then hasSelected=true;break;end end FlatIdent_839BC=1;end end else local FlatIdent_3F2AC=0;while true do if (0==FlatIdent_3F2AC) then PotionSystem:Stop();Config.AutoPotionsEnabled=false;FlatIdent_3F2AC=1;end if (1==FlatIdent_3F2AC) then Toast("Auto Potions: OFF","info");break;end end end end,Config.AutoPotionsEnabled);Slider(AutoPage,"Drink Interval (sec)",60,600,Config.PotionDrinkInterval,11,function(v) Config.PotionDrinkInterval=v;end,false,"PotionDrinkInterval");Section(AutoPage,"Combat",12);Toggle(AutoPage,"Auto Kill Monsters",Icons.Monster,13,function(e) if e then local FlatIdent_5D375=0;while true do if (0==FlatIdent_5D375) then FarmSystem:StartKilling();Toast("Auto Kill started!","success");break;end end else local FlatIdent_46B28=0;while true do if (FlatIdent_46B28==0) then FarmSystem:StopKilling();Toast("Auto Kill stopped","info");break;end end end end,false);Section(AutoPage,"Safety",14);Toggle(AutoPage,"Avoid Players",Icons.ESP,15,function(e) Config.AvoidPlayersEnabled=e;end,Config.AvoidPlayersEnabled);Slider(AutoPage,"Avoid Distance",10,250,Config.AvoidPlayersDistance,16,function(v) Config.AvoidPlayersDistance=v;end,false,"AvoidPlayersDistance");local ManagersPage=CatPages['Managers'];Section(ManagersPage,"Configure Farm & Sell",1);ManagerBtn(ManagersPage,"Ore Manager",Icons.Mine,Theme.Success,2,function() OpenPopup("Ore Manager",OreDatabase,OreFarmSelection,nil);end);ManagerBtn(ManagersPage,"Monster Manager",Icons.Monster,Theme.Warning,3,function() OpenPopup("Monster Manager",MonsterDatabase,MonsterFarmSelection,nil);end);ManagerBtn(ManagersPage,"Sell Manager",Icons.Sell,Theme.Info,4,function() OpenPopup("Sell Manager",OreDatabase,SellSelection,nil);end);ManagerBtn(ManagersPage,"Potions Manager",Icons.Potion,Theme.Potion,5,function() OpenPopup("Potions Manager",PotionsDatabase,PotionSelection,nil);end);local ESPPage=CatPages['ESP'];Section(ESPPage,"Entity ESP",1);Toggle(ESPPage,"ESP Players",Icons.ESP,2,function(e) local FlatIdent_16C12=0;while true do if (0==FlatIdent_16C12) then Config.EspPlayersEnabled=e;if (e and  not ESP.enabled) then ESP:Start();elseif ( not e and  not Config.EspMonstersEnabled and  not Config.EspOresEnabled) then ESP:Stop();end break;end end end,Config.EspPlayersEnabled);Toggle(ESPPage,"ESP Monsters",Icons.Monster,3,function(e) local FlatIdent_42B98=0;while true do if (FlatIdent_42B98==0) then Config.EspMonstersEnabled=e;if (e and  not ESP.enabled) then ESP:Start();elseif ( not e and  not Config.EspPlayersEnabled and  not Config.EspOresEnabled) then ESP:Stop();end break;end end end,Config.EspMonstersEnabled);Toggle(ESPPage,"ESP Ores",Icons.Mine,4,function(e) local FlatIdent_829BD=0;while true do if (FlatIdent_829BD==0) then Config.EspOresEnabled=e;if (e and  not ESP.enabled) then ESP:Start();elseif ( not e and  not Config.EspPlayersEnabled and  not Config.EspMonstersEnabled) then ESP:Stop();end FlatIdent_829BD=1;end if (FlatIdent_829BD==1) then Toast((e and "ESP Ores: ON") or "ESP Ores: OFF" ,(e and "success") or "info" );break;end end end,Config.EspOresEnabled);Slider(ESPPage,"ESP Distance",100,1000,Config.EspDistance,6,function(v) Config.EspDistance=v;end,false,"EspDistance");local SettingsPage=CatPages['Settings'];Section(SettingsPage,"Movement",1);Toggle(SettingsPage,"TP Bypass (Cannon)",Icons.Auto,2,function(e) local FlatIdent_2BE31=0;while true do if (FlatIdent_2BE31==0) then Config.TPBypassEnabled=e;if e then Toast("TP Bypass ON - Use Cannon","success");else Toast("TP Bypass OFF - Smooth Float","info");end break;end end end,Config.TPBypassEnabled);Toggle(SettingsPage,"3D Face Target",Icons.ESP,3,function(e) Config.FaceTargetEnabled=e;end,Config.FaceTargetEnabled);Slider(SettingsPage,"Move Speed",50,200,Config.MoveSpeed,4,function(v) Config.MoveSpeed=v;end,false,"MoveSpeed");Slider(SettingsPage,"Hover Offset",1,10,Config.HoverOffset,5,function(v) Config.HoverOffset=v;end,false,"HoverOffset");Slider(SettingsPage,"E Spam Duration",0.1,2,Config.ESpamDuration,6,function(v) Config.ESpamDuration=v;end,true,"ESpamDuration");Section(SettingsPage,"Misc",7);Toggle(SettingsPage,"Custom WalkSpeed",Icons.Auto,8,function(e) Config.WalkSpeedEnabled=e;if e then SetWalkSpeed(Config.WalkSpeed);else SetWalkSpeed(16);end end,Config.WalkSpeedEnabled);Slider(SettingsPage,"WalkSpeed",16,200,Config.WalkSpeed,9,function(v) local FlatIdent_4BE15=0;while true do if (FlatIdent_4BE15==0) then Config.WalkSpeed=v;if Config.WalkSpeedEnabled then SetWalkSpeed(v);end break;end end end,false,"WalkSpeed");Toggle(SettingsPage,"Fullbright",Icons.ESP,10,function(e) local FlatIdent_74AD2=0;while true do if (FlatIdent_74AD2==0) then Config.FullbrightEnabled=e;if e then EnableFullbright();else DisableFullbright();end break;end end end,Config.FullbrightEnabled);Toggle(SettingsPage,"Camera No Clip",Icons.ESP,11,function(e) local FlatIdent_81F0D=0;while true do if (1==FlatIdent_81F0D) then Toast((e and "Camera No Clip: ON") or "Camera No Clip: OFF" ,(e and "success") or "info" );break;end if (FlatIdent_81F0D==0) then Config.CameraNoClipEnabled=e;if e then EnableCameraNoClip();else DisableCameraNoClip();end FlatIdent_81F0D=1;end end end,Config.CameraNoClipEnabled);Toggle(SettingsPage,"Camera Focus Target",Icons.Auto,12,function(e) Config.CameraFocusTargetEnabled=e;if e then local FlatIdent_74716=0;while true do if (FlatIdent_74716==0) then EnableCameraFocusTarget();Toast("Camera Focus Target: ON","success");break;end end else DisableCameraFocusTarget();Toast("Camera Focus Target: OFF","info");end end,Config.CameraFocusTargetEnabled);Toggle(SettingsPage,"Rocks NoClip",Icons.Mine,13,function(e) local FlatIdent_18D50=0;while true do if (FlatIdent_18D50==0) then Config.RocksNoClipEnabled=e;if e then local FlatIdent_80B55=0;while true do if (FlatIdent_80B55==0) then EnableRocksNoClip();Toast("Rocks NoClip: ON - Walk through rocks!","success");break;end end else local FlatIdent_88B71=0;while true do if (FlatIdent_88B71==0) then DisableRocksNoClip();Toast("Rocks NoClip: OFF","info");break;end end end break;end end end,Config.RocksNoClipEnabled);Slider(SettingsPage,"Kill Distance",1,13,Config.KillDistance,14,function(v) Config.KillDistance=v;end,false,"KillDistance");Section(SettingsPage,"Anti-AFK",15);Toggle(SettingsPage,"Anti-AFK",Icons.Auto,16,function(e) Config.AntiAfkEnabled=e;if e then local FlatIdent_8A06A=0;while true do if (FlatIdent_8A06A==0) then AntiAfkSystem:Start();Toast("Anti-AFK: ON","success");break;end end else local FlatIdent_1D19=0;while true do if (FlatIdent_1D19==0) then AntiAfkSystem:Stop();Toast("Anti-AFK: OFF","info");break;end end end end,Config.AntiAfkEnabled);local mainDrag={dragging=false,start=nil,startPos=nil};TitleBar.InputBegan:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then mainDrag.dragging=true;mainDrag.start=input.Position;mainDrag.startPos=MainFrame.Position;end end);TitleBar.InputEnded:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.MouseButton1) or (input.UserInputType==Enum.UserInputType.Touch)) then mainDrag.dragging=false;end end);Track(UserInputService.InputChanged:Connect(function(input) if (mainDrag.dragging and ((input.UserInputType==Enum.UserInputType.MouseMovement) or (input.UserInputType==Enum.UserInputType.Touch))) then local FlatIdent_8C854=0;local delta;while true do if (FlatIdent_8C854==0) then delta=input.Position-mainDrag.start ;MainFrame.Position=UDim2.new(mainDrag.startPos.X.Scale,mainDrag.startPos.X.Offset + delta.X ,mainDrag.startPos.Y.Scale,mainDrag.startPos.Y.Offset + delta.Y );break;end end end end));local toggleDrag={dragging=false,start=nil,offset=nil,delta=0};ToggleClickArea.InputBegan:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.Touch) or (input.UserInputType==Enum.UserInputType.MouseButton1)) then local FlatIdent_263AB=0;while true do if (FlatIdent_263AB==1) then toggleDrag.offset=Vector2.new(input.Position.X-ToggleBtn.AbsolutePosition.X ,input.Position.Y-ToggleBtn.AbsolutePosition.Y );toggleDrag.delta=0;break;end if (FlatIdent_263AB==0) then toggleDrag.dragging=true;toggleDrag.start=input.Position;FlatIdent_263AB=1;end end end end);ToggleClickArea.InputEnded:Connect(function(input) if ((input.UserInputType==Enum.UserInputType.Touch) or (input.UserInputType==Enum.UserInputType.MouseButton1)) then if (toggleDrag.delta<8) then local FlatIdent_EF32=0;while true do if (0==FlatIdent_EF32) then State.isUIVisible= not State.isUIVisible;if State.isUIVisible then local FlatIdent_38823=0;while true do if (FlatIdent_38823==0) then MainFrame.Visible=true;Tween(MainFrame,{Position=UDim2.new(0.5, -MainSize.X.Offset/2 ,0.5, -MainSize.Y.Offset/2 )},0.25,Enum.EasingStyle.Back);break;end end else local FlatIdent_3C185=0;while true do if (FlatIdent_3C185==0) then Tween(MainFrame,{Position=UDim2.new(0.5, -MainSize.X.Offset/2 ,1.5,0)},0.2);task.delay(0.25,function() if  not State.isUIVisible then MainFrame.Visible=false;end end);break;end end end break;end end else local FlatIdent_92238=0;local pos;local centerX;local targetX;while true do if (FlatIdent_92238==1) then targetX=((centerX<(ScreenSize.X/2)) and 10) or ((ScreenSize.X-ToggleBtn.AbsoluteSize.X) -10) ;Tween(ToggleBtn,{Position=UDim2.new(0,targetX,pos.Y.Scale,pos.Y.Offset)},0.15,Enum.EasingStyle.Back);break;end if (FlatIdent_92238==0) then pos=ToggleBtn.Position;centerX=pos.X.Offset + (ToggleBtn.AbsoluteSize.X/2) ;FlatIdent_92238=1;end end end toggleDrag.dragging=false;toggleDrag.delta=0;end end);Track(UserInputService.InputChanged:Connect(function(input) if (toggleDrag.dragging and ((input.UserInputType==Enum.UserInputType.Touch) or (input.UserInputType==Enum.UserInputType.MouseMovement))) then local FlatIdent_84A95=0;local newX;local newY;while true do if (FlatIdent_84A95==0) then toggleDrag.delta=(input.Position-toggleDrag.start).Magnitude;newX=math.clamp(input.Position.X-toggleDrag.offset.X ,10,(ScreenSize.X-ToggleBtn.AbsoluteSize.X) -10 );FlatIdent_84A95=1;end if (FlatIdent_84A95==1) then newY=math.clamp(input.Position.Y-toggleDrag.offset.Y ,10,(ScreenSize.Y-ToggleBtn.AbsoluteSize.Y) -10 );ToggleBtn.Position=UDim2.new(0,newX,0,newY);break;end end end end));MinBtn.MouseButton1Click:Connect(function() local FlatIdent_86023=0;while true do if (0==FlatIdent_86023) then State.isMinimized= not State.isMinimized;if State.isMinimized then local FlatIdent_60C77=0;while true do if (FlatIdent_60C77==0) then Tween(MainFrame,{Size=UDim2.new(0,MainSize.X.Offset,0,42)},0.2);Sidebar.Visible=false;FlatIdent_60C77=1;end if (FlatIdent_60C77==1) then Content.Visible=false;break;end end else local FlatIdent_6FAC4=0;while true do if (FlatIdent_6FAC4==0) then Tween(MainFrame,{Size=MainSize},0.2);task.delay(0.1,function() local FlatIdent_1CF13=0;while true do if (FlatIdent_1CF13==0) then Sidebar.Visible=true;Content.Visible=true;break;end end end);break;end end end break;end end end);local function Cleanup() local FlatIdent_2444E=0;while true do if (FlatIdent_2444E==4) then pcall(function() DisableNoclip();end);pcall(function() DisableFloat();end);pcall(function() ClosePopup();end);FlatIdent_2444E=5;end if (FlatIdent_2444E==6) then task.delay(0.25,function() if ScreenGui then ScreenGui:Destroy();end end);break;end if (FlatIdent_2444E==3) then pcall(function() DisableCameraNoClip();end);pcall(function() DisableCameraFocusTarget();end);pcall(function() DisableRocksNoClip();end);FlatIdent_2444E=4;end if (FlatIdent_2444E==1) then pcall(function() FarmSystem:StopKilling();end);pcall(function() SellSystem:Stop();end);pcall(function() PotionSystem:Stop();end);FlatIdent_2444E=2;end if (FlatIdent_2444E==5) then for _,conn in ipairs(Connections) do pcall(function() conn:Disconnect();end);end Tween(MainFrame,{Size=UDim2.new(0,0,0,0),Position=UDim2.new(0.5,0,0.5,0)},0.2,Enum.EasingStyle.Back,Enum.EasingDirection.In);Tween(ToggleBtn,{Size=UDim2.new(0,0,0,0)},0.2);FlatIdent_2444E=6;end if (FlatIdent_2444E==0) then State.isClosing=true;SaveData();pcall(function() FarmSystem:StopMining();end);FlatIdent_2444E=1;end if (2==FlatIdent_2444E) then pcall(function() AntiAfkSystem:Stop();end);pcall(function() ESP:Stop();end);pcall(function() DisableFullbright();end);FlatIdent_2444E=3;end end end CloseBtn.MouseButton1Click:Connect(Cleanup);MainFrame.Size=UDim2.new(0,0,0,0);MainFrame.Position=UDim2.new(0.5,0,0.5,0);Tween(MainFrame,{Size=MainSize,Position=UDim2.new(0.5, -MainSize.X.Offset/2 ,0.5, -MainSize.Y.Offset/2 )},0.35,Enum.EasingStyle.Back);task.delay(0.4,function() local FlatIdent_22B90=0;while true do if (FlatIdent_22B90==0) then Toast("Glad Hub V"   .. VERSION   .. " Loaded!" ,"success",4);Toast("Potion System Fixed!","info",4);break;end end end);task.delay(0.1,function() RefreshSlidersFromConfig();end);if (Config.EspPlayersEnabled or Config.EspMonstersEnabled or Config.EspOresEnabled) then ESP:Start();end if Config.FullbrightEnabled then EnableFullbright();end if Config.CameraNoClipEnabled then EnableCameraNoClip();end if Config.CameraFocusTargetEnabled then EnableCameraFocusTarget();end if Config.RocksNoClipEnabled then EnableRocksNoClip();end if Config.AntiAfkEnabled then AntiAfkSystem:Start();end AutoSaveLoop();local function OnCharacterAdded(char) local FlatIdent_68253=0;local hum;while true do if (FlatIdent_68253==2) then if State.isAutoKilling then local FlatIdent_56891=0;while true do if (FlatIdent_56891==0) then EnableNoclip();EnableFloat();break;end end end if Config.RocksNoClipEnabled then task.delay(0.5,EnableRocksNoClip);end FlatIdent_68253=3;end if (3==FlatIdent_68253) then if Config.CameraNoClipEnabled then task.delay(0.3,EnableCameraNoClip);end if Config.CameraFocusTargetEnabled then task.delay(0.3,EnableCameraFocusTarget);end FlatIdent_68253=4;end if (FlatIdent_68253==1) then if  not hum then return;end if State.isAutoMining then local FlatIdent_33242=0;while true do if (FlatIdent_33242==0) then EnableNoclip();EnableFloat();break;end end end FlatIdent_68253=2;end if (FlatIdent_68253==4) then hum.Died:Connect(function() local FlatIdent_7B0E=0;while true do if (FlatIdent_7B0E==0) then FloatBV=nil;FloatBG=nil;FlatIdent_7B0E=1;end if (FlatIdent_7B0E==1) then if NoclipConn then local FlatIdent_21608=0;while true do if (FlatIdent_21608==0) then NoclipConn:Disconnect();NoclipConn=nil;break;end end end break;end end end);break;end if (FlatIdent_68253==0) then task.wait(0.5);hum=char:WaitForChild("Humanoid",10);FlatIdent_68253=1;end end end player.CharacterAdded:Connect(OnCharacterAdded);if player.Character then task.spawn(function() OnCharacterAdded(player.Character);end);end _G.GladHubDebug={Config=Config,State=State,FarmSystem=FarmSystem,SellSystem=SellSystem,PotionSystem=PotionSystem,AntiAfkSystem=AntiAfkSystem,ESP=ESP,OreDatabase=OreDatabase,MonsterDatabase=MonsterDatabase,PotionsDatabase=PotionsDatabase,RockPriority=RockPriority,SellSelection=SellSelection,OreFarmSelection=OreFarmSelection,MonsterFarmSelection=MonsterFarmSelection,PotionSelection=PotionSelection,SliderRefs=SliderRefs,GetRequiredSources=GetRequiredSources,GetSelectedPotions=GetSelectedPotions,GetPotionCount=GetPotionCount,BuyPotion=BuyPotion,DrinkPotion=DrinkPotion,GetPotionShopPosition=GetPotionShopPosition,ScanStashAndSell=ScanStashAndSell,EnableRocksNoClip=EnableRocksNoClip,DisableRocksNoClip=DisableRocksNoClip,EnableCameraFocusTarget=EnableCameraFocusTarget,DisableCameraFocusTarget=DisableCameraFocusTarget,SafeTP=SafeTP,SaveData=SaveData,LoadData=LoadData,IsTeleporting=function() return IsTeleporting;end,LastTPTime=function() return LastTPTime;end,GetRockHighestRarity=GetRockHighestRarity,RainbowESPObjects=RainbowESPObjects,GetCannonPart=GetCannonPart,FocusCameraOnCannon=FocusCameraOnCannon,FocusCameraOnPlayer=FocusCameraOnPlayer,SetGaiserCollision=SetGaiserCollision,GetGaiser=GetGaiser};print("Glad Hub V"   .. VERSION   .. " | Potion System Grounding Fixed" );
